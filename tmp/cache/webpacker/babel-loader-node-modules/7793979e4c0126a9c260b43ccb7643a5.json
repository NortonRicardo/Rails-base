{"ast":null,"code":"/*!\n * Datepicker for Bootstrap v1.6.4 (https://github.com/eternicode/bootstrap-datepicker)\n *\n * Copyright 2012 Stefan Petre\n * Improvements by Andrew Rowls\n * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)\n */\n(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"jquery\"], factory);\n  } else if (typeof exports === 'object') {\n    factory(require('jquery'));\n  } else {\n    factory(jQuery);\n  }\n})(function ($, undefined) {\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  }\n\n  function UTCToday() {\n    var today = new Date();\n    return UTCDate(today.getFullYear(), today.getMonth(), today.getDate());\n  }\n\n  function isUTCEquals(date1, date2) {\n    return date1.getUTCFullYear() === date2.getUTCFullYear() && date1.getUTCMonth() === date2.getUTCMonth() && date1.getUTCDate() === date2.getUTCDate();\n  }\n\n  function alias(method) {\n    return function () {\n      return this[method].apply(this, arguments);\n    };\n  }\n\n  function isValidDate(d) {\n    return d && !isNaN(d.getTime());\n  }\n\n  var DateArray = function () {\n    var extras = {\n      get: function get(i) {\n        return this.slice(i)[0];\n      },\n      contains: function contains(d) {\n        // Array.indexOf is not cross-browser;\n        // $.inArray doesn't work with Dates\n        var val = d && d.valueOf();\n\n        for (var i = 0, l = this.length; i < l; i++) {\n          if (this[i].valueOf() === val) return i;\n        }\n\n        return -1;\n      },\n      remove: function remove(i) {\n        this.splice(i, 1);\n      },\n      replace: function replace(new_array) {\n        if (!new_array) return;\n        if (!$.isArray(new_array)) new_array = [new_array];\n        this.clear();\n        this.push.apply(this, new_array);\n      },\n      clear: function clear() {\n        this.length = 0;\n      },\n      copy: function copy() {\n        var a = new DateArray();\n        a.replace(this);\n        return a;\n      }\n    };\n    return function () {\n      var a = [];\n      a.push.apply(a, arguments);\n      $.extend(a, extras);\n      return a;\n    };\n  }(); // Picker object\n\n\n  var Datepicker = function Datepicker(element, options) {\n    $(element).data('datepicker', this);\n\n    this._process_options(options);\n\n    this.dates = new DateArray();\n    this.viewDate = this.o.defaultViewDate;\n    this.focusDate = null;\n    this.element = $(element);\n    this.isInput = this.element.is('input');\n    this.inputField = this.isInput ? this.element : this.element.find('input');\n    this.component = this.element.hasClass('date') ? this.element.find('.add-on, .input-group-addon, .btn') : false;\n    this.hasInput = this.component && this.inputField.length;\n    if (this.component && this.component.length === 0) this.component = false;\n    this.isInline = !this.component && this.element.is('div');\n    this.picker = $(DPGlobal.template); // Checking templates and inserting\n\n    if (this._check_template(this.o.templates.leftArrow)) {\n      this.picker.find('.prev').html(this.o.templates.leftArrow);\n    }\n\n    if (this._check_template(this.o.templates.rightArrow)) {\n      this.picker.find('.next').html(this.o.templates.rightArrow);\n    }\n\n    this._buildEvents();\n\n    this._attachEvents();\n\n    if (this.isInline) {\n      this.picker.addClass('datepicker-inline').appendTo(this.element);\n    } else {\n      this.picker.addClass('datepicker-dropdown dropdown-menu');\n    }\n\n    if (this.o.rtl) {\n      this.picker.addClass('datepicker-rtl');\n    }\n\n    this.viewMode = this.o.startView;\n    if (this.o.calendarWeeks) this.picker.find('thead .datepicker-title, tfoot .today, tfoot .clear').attr('colspan', function (i, val) {\n      return parseInt(val) + 1;\n    });\n    this._allow_update = false;\n    this.setStartDate(this._o.startDate);\n    this.setEndDate(this._o.endDate);\n    this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);\n    this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);\n    this.setDatesDisabled(this.o.datesDisabled);\n    this.fillDow();\n    this.fillMonths();\n    this._allow_update = true;\n    this.update();\n    this.showMode();\n\n    if (this.isInline) {\n      this.show();\n    }\n  };\n\n  Datepicker.prototype = {\n    constructor: Datepicker,\n    _resolveViewName: function _resolveViewName(view, default_value) {\n      if (view === 0 || view === 'days' || view === 'month') {\n        return 0;\n      }\n\n      if (view === 1 || view === 'months' || view === 'year') {\n        return 1;\n      }\n\n      if (view === 2 || view === 'years' || view === 'decade') {\n        return 2;\n      }\n\n      if (view === 3 || view === 'decades' || view === 'century') {\n        return 3;\n      }\n\n      if (view === 4 || view === 'centuries' || view === 'millennium') {\n        return 4;\n      }\n\n      return default_value === undefined ? false : default_value;\n    },\n    _check_template: function _check_template(tmp) {\n      try {\n        // If empty\n        if (tmp === undefined || tmp === \"\") {\n          return false;\n        } // If no html, everything ok\n\n\n        if ((tmp.match(/[<>]/g) || []).length <= 0) {\n          return true;\n        } // Checking if html is fine\n\n\n        var jDom = $(tmp);\n        return jDom.length > 0;\n      } catch (ex) {\n        return false;\n      }\n    },\n    _process_options: function _process_options(opts) {\n      // Store raw options for reference\n      this._o = $.extend({}, this._o, opts); // Processed options\n\n      var o = this.o = $.extend({}, this._o); // Check if \"de-DE\" style date is available, if not language should\n      // fallback to 2 letter code eg \"de\"\n\n      var lang = o.language;\n\n      if (!dates[lang]) {\n        lang = lang.split('-')[0];\n        if (!dates[lang]) lang = defaults.language;\n      }\n\n      o.language = lang; // Retrieve view index from any aliases\n\n      o.startView = this._resolveViewName(o.startView, 0);\n      o.minViewMode = this._resolveViewName(o.minViewMode, 0);\n      o.maxViewMode = this._resolveViewName(o.maxViewMode, 4); // Check that the start view is between min and max\n\n      o.startView = Math.min(o.startView, o.maxViewMode);\n      o.startView = Math.max(o.startView, o.minViewMode); // true, false, or Number > 0\n\n      if (o.multidate !== true) {\n        o.multidate = Number(o.multidate) || false;\n        if (o.multidate !== false) o.multidate = Math.max(0, o.multidate);\n      }\n\n      o.multidateSeparator = String(o.multidateSeparator);\n      o.weekStart %= 7;\n      o.weekEnd = (o.weekStart + 6) % 7;\n      var format = DPGlobal.parseFormat(o.format);\n\n      if (o.startDate !== -Infinity) {\n        if (!!o.startDate) {\n          if (o.startDate instanceof Date) o.startDate = this._local_to_utc(this._zero_time(o.startDate));else o.startDate = DPGlobal.parseDate(o.startDate, format, o.language, o.assumeNearbyYear);\n        } else {\n          o.startDate = -Infinity;\n        }\n      }\n\n      if (o.endDate !== Infinity) {\n        if (!!o.endDate) {\n          if (o.endDate instanceof Date) o.endDate = this._local_to_utc(this._zero_time(o.endDate));else o.endDate = DPGlobal.parseDate(o.endDate, format, o.language, o.assumeNearbyYear);\n        } else {\n          o.endDate = Infinity;\n        }\n      }\n\n      o.daysOfWeekDisabled = o.daysOfWeekDisabled || [];\n      if (!$.isArray(o.daysOfWeekDisabled)) o.daysOfWeekDisabled = o.daysOfWeekDisabled.split(/[,\\s]*/);\n      o.daysOfWeekDisabled = $.map(o.daysOfWeekDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      o.daysOfWeekHighlighted = o.daysOfWeekHighlighted || [];\n      if (!$.isArray(o.daysOfWeekHighlighted)) o.daysOfWeekHighlighted = o.daysOfWeekHighlighted.split(/[,\\s]*/);\n      o.daysOfWeekHighlighted = $.map(o.daysOfWeekHighlighted, function (d) {\n        return parseInt(d, 10);\n      });\n      o.datesDisabled = o.datesDisabled || [];\n\n      if (!$.isArray(o.datesDisabled)) {\n        o.datesDisabled = [o.datesDisabled];\n      }\n\n      o.datesDisabled = $.map(o.datesDisabled, function (d) {\n        return DPGlobal.parseDate(d, format, o.language, o.assumeNearbyYear);\n      });\n\n      var plc = String(o.orientation).toLowerCase().split(/\\s+/g),\n          _plc = o.orientation.toLowerCase();\n\n      plc = $.grep(plc, function (word) {\n        return /^auto|left|right|top|bottom$/.test(word);\n      });\n      o.orientation = {\n        x: 'auto',\n        y: 'auto'\n      };\n      if (!_plc || _plc === 'auto') ; // no action\n      else if (plc.length === 1) {\n          switch (plc[0]) {\n            case 'top':\n            case 'bottom':\n              o.orientation.y = plc[0];\n              break;\n\n            case 'left':\n            case 'right':\n              o.orientation.x = plc[0];\n              break;\n          }\n        } else {\n          _plc = $.grep(plc, function (word) {\n            return /^left|right$/.test(word);\n          });\n          o.orientation.x = _plc[0] || 'auto';\n          _plc = $.grep(plc, function (word) {\n            return /^top|bottom$/.test(word);\n          });\n          o.orientation.y = _plc[0] || 'auto';\n        }\n\n      if (o.defaultViewDate) {\n        var year = o.defaultViewDate.year || new Date().getFullYear();\n        var month = o.defaultViewDate.month || 0;\n        var day = o.defaultViewDate.day || 1;\n        o.defaultViewDate = UTCDate(year, month, day);\n      } else {\n        o.defaultViewDate = UTCToday();\n      }\n    },\n    _events: [],\n    _secondaryEvents: [],\n    _applyEvents: function _applyEvents(evs) {\n      for (var i = 0, el, ch, ev; i < evs.length; i++) {\n        el = evs[i][0];\n\n        if (evs[i].length === 2) {\n          ch = undefined;\n          ev = evs[i][1];\n        } else if (evs[i].length === 3) {\n          ch = evs[i][1];\n          ev = evs[i][2];\n        }\n\n        el.on(ev, ch);\n      }\n    },\n    _unapplyEvents: function _unapplyEvents(evs) {\n      for (var i = 0, el, ev, ch; i < evs.length; i++) {\n        el = evs[i][0];\n\n        if (evs[i].length === 2) {\n          ch = undefined;\n          ev = evs[i][1];\n        } else if (evs[i].length === 3) {\n          ch = evs[i][1];\n          ev = evs[i][2];\n        }\n\n        el.off(ev, ch);\n      }\n    },\n    _buildEvents: function _buildEvents() {\n      var events = {\n        keyup: $.proxy(function (e) {\n          if ($.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) === -1) this.update();\n        }, this),\n        keydown: $.proxy(this.keydown, this),\n        paste: $.proxy(this.paste, this)\n      };\n\n      if (this.o.showOnFocus === true) {\n        events.focus = $.proxy(this.show, this);\n      }\n\n      if (this.isInput) {\n        // single input\n        this._events = [[this.element, events]];\n      } else if (this.component && this.hasInput) {\n        // component: input + button\n        this._events = [// For components that are not readonly, allow keyboard nav\n        [this.inputField, events], [this.component, {\n          click: $.proxy(this.show, this)\n        }]];\n      } else {\n        this._events = [[this.element, {\n          click: $.proxy(this.show, this),\n          keydown: $.proxy(this.keydown, this)\n        }]];\n      }\n\n      this._events.push( // Component: listen for blur on element descendants\n      [this.element, '*', {\n        blur: $.proxy(function (e) {\n          this._focused_from = e.target;\n        }, this)\n      }], // Input: listen for blur on element\n      [this.element, {\n        blur: $.proxy(function (e) {\n          this._focused_from = e.target;\n        }, this)\n      }]);\n\n      if (this.o.immediateUpdates) {\n        // Trigger input updates immediately on changed year/month\n        this._events.push([this.element, {\n          'changeYear changeMonth': $.proxy(function (e) {\n            this.update(e.date);\n          }, this)\n        }]);\n      }\n\n      this._secondaryEvents = [[this.picker, {\n        click: $.proxy(this.click, this)\n      }], [$(window), {\n        resize: $.proxy(this.place, this)\n      }], [$(document), {\n        mousedown: $.proxy(function (e) {\n          // Clicked outside the datepicker, hide it\n          if (!(this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length || this.isInline)) {\n            this.hide();\n          }\n        }, this)\n      }]];\n    },\n    _attachEvents: function _attachEvents() {\n      this._detachEvents();\n\n      this._applyEvents(this._events);\n    },\n    _detachEvents: function _detachEvents() {\n      this._unapplyEvents(this._events);\n    },\n    _attachSecondaryEvents: function _attachSecondaryEvents() {\n      this._detachSecondaryEvents();\n\n      this._applyEvents(this._secondaryEvents);\n    },\n    _detachSecondaryEvents: function _detachSecondaryEvents() {\n      this._unapplyEvents(this._secondaryEvents);\n    },\n    _trigger: function _trigger(event, altdate) {\n      var date = altdate || this.dates.get(-1),\n          local_date = this._utc_to_local(date);\n\n      this.element.trigger({\n        type: event,\n        date: local_date,\n        dates: $.map(this.dates, this._utc_to_local),\n        format: $.proxy(function (ix, format) {\n          if (arguments.length === 0) {\n            ix = this.dates.length - 1;\n            format = this.o.format;\n          } else if (typeof ix === 'string') {\n            format = ix;\n            ix = this.dates.length - 1;\n          }\n\n          format = format || this.o.format;\n          var date = this.dates.get(ix);\n          return DPGlobal.formatDate(date, format, this.o.language);\n        }, this)\n      });\n    },\n    show: function show() {\n      if (this.inputField.prop('disabled') || this.inputField.prop('readonly') && this.o.enableOnReadonly === false) return;\n      if (!this.isInline) this.picker.appendTo(this.o.container);\n      this.place();\n      this.picker.show();\n\n      this._attachSecondaryEvents();\n\n      this._trigger('show');\n\n      if ((window.navigator.msMaxTouchPoints || 'ontouchstart' in document) && this.o.disableTouchKeyboard) {\n        $(this.element).blur();\n      }\n\n      return this;\n    },\n    hide: function hide() {\n      if (this.isInline || !this.picker.is(':visible')) return this;\n      this.focusDate = null;\n      this.picker.hide().detach();\n\n      this._detachSecondaryEvents();\n\n      this.viewMode = this.o.startView;\n      this.showMode();\n      if (this.o.forceParse && this.inputField.val()) this.setValue();\n\n      this._trigger('hide');\n\n      return this;\n    },\n    destroy: function destroy() {\n      this.hide();\n\n      this._detachEvents();\n\n      this._detachSecondaryEvents();\n\n      this.picker.remove();\n      delete this.element.data().datepicker;\n\n      if (!this.isInput) {\n        delete this.element.data().date;\n      }\n\n      return this;\n    },\n    paste: function paste(evt) {\n      var dateString;\n\n      if (evt.originalEvent.clipboardData && evt.originalEvent.clipboardData.types && $.inArray('text/plain', evt.originalEvent.clipboardData.types) !== -1) {\n        dateString = evt.originalEvent.clipboardData.getData('text/plain');\n      } else if (window.clipboardData) {\n        dateString = window.clipboardData.getData('Text');\n      } else {\n        return;\n      }\n\n      this.setDate(dateString);\n      this.update();\n      evt.preventDefault();\n    },\n    _utc_to_local: function _utc_to_local(utc) {\n      return utc && new Date(utc.getTime() + utc.getTimezoneOffset() * 60000);\n    },\n    _local_to_utc: function _local_to_utc(local) {\n      return local && new Date(local.getTime() - local.getTimezoneOffset() * 60000);\n    },\n    _zero_time: function _zero_time(local) {\n      return local && new Date(local.getFullYear(), local.getMonth(), local.getDate());\n    },\n    _zero_utc_time: function _zero_utc_time(utc) {\n      return utc && new Date(Date.UTC(utc.getUTCFullYear(), utc.getUTCMonth(), utc.getUTCDate()));\n    },\n    getDates: function getDates() {\n      return $.map(this.dates, this._utc_to_local);\n    },\n    getUTCDates: function getUTCDates() {\n      return $.map(this.dates, function (d) {\n        return new Date(d);\n      });\n    },\n    getDate: function getDate() {\n      return this._utc_to_local(this.getUTCDate());\n    },\n    getUTCDate: function getUTCDate() {\n      var selected_date = this.dates.get(-1);\n\n      if (typeof selected_date !== 'undefined') {\n        return new Date(selected_date);\n      } else {\n        return null;\n      }\n    },\n    clearDates: function clearDates() {\n      if (this.inputField) {\n        this.inputField.val('');\n      }\n\n      this.update();\n\n      this._trigger('changeDate');\n\n      if (this.o.autoclose) {\n        this.hide();\n      }\n    },\n    setDates: function setDates() {\n      var args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n      this.update.apply(this, args);\n\n      this._trigger('changeDate');\n\n      this.setValue();\n      return this;\n    },\n    setUTCDates: function setUTCDates() {\n      var args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n      this.update.apply(this, $.map(args, this._utc_to_local));\n\n      this._trigger('changeDate');\n\n      this.setValue();\n      return this;\n    },\n    setDate: alias('setDates'),\n    setUTCDate: alias('setUTCDates'),\n    remove: alias('destroy'),\n    setValue: function setValue() {\n      var formatted = this.getFormattedDate();\n      this.inputField.val(formatted);\n      return this;\n    },\n    getFormattedDate: function getFormattedDate(format) {\n      if (format === undefined) format = this.o.format;\n      var lang = this.o.language;\n      return $.map(this.dates, function (d) {\n        return DPGlobal.formatDate(d, format, lang);\n      }).join(this.o.multidateSeparator);\n    },\n    getStartDate: function getStartDate() {\n      return this.o.startDate;\n    },\n    setStartDate: function setStartDate(startDate) {\n      this._process_options({\n        startDate: startDate\n      });\n\n      this.update();\n      this.updateNavArrows();\n      return this;\n    },\n    getEndDate: function getEndDate() {\n      return this.o.endDate;\n    },\n    setEndDate: function setEndDate(endDate) {\n      this._process_options({\n        endDate: endDate\n      });\n\n      this.update();\n      this.updateNavArrows();\n      return this;\n    },\n    setDaysOfWeekDisabled: function setDaysOfWeekDisabled(daysOfWeekDisabled) {\n      this._process_options({\n        daysOfWeekDisabled: daysOfWeekDisabled\n      });\n\n      this.update();\n      this.updateNavArrows();\n      return this;\n    },\n    setDaysOfWeekHighlighted: function setDaysOfWeekHighlighted(daysOfWeekHighlighted) {\n      this._process_options({\n        daysOfWeekHighlighted: daysOfWeekHighlighted\n      });\n\n      this.update();\n      return this;\n    },\n    setDatesDisabled: function setDatesDisabled(datesDisabled) {\n      this._process_options({\n        datesDisabled: datesDisabled\n      });\n\n      this.update();\n      this.updateNavArrows();\n    },\n    place: function place() {\n      if (this.isInline) return this;\n      var calendarWidth = this.picker.outerWidth(),\n          calendarHeight = this.picker.outerHeight(),\n          visualPadding = 10,\n          container = $(this.o.container),\n          windowWidth = container.width(),\n          scrollTop = this.o.container === 'body' ? $(document).scrollTop() : container.scrollTop(),\n          appendOffset = container.offset();\n      var parentsZindex = [];\n      this.element.parents().each(function () {\n        var itemZIndex = $(this).css('z-index');\n        if (itemZIndex !== 'auto' && itemZIndex !== 0) parentsZindex.push(parseInt(itemZIndex));\n      });\n      var zIndex = Math.max.apply(Math, parentsZindex) + this.o.zIndexOffset;\n      var offset = this.component ? this.component.parent().offset() : this.element.offset();\n      var height = this.component ? this.component.outerHeight(true) : this.element.outerHeight(false);\n      var width = this.component ? this.component.outerWidth(true) : this.element.outerWidth(false);\n      var left = offset.left - appendOffset.left,\n          top = offset.top - appendOffset.top;\n\n      if (this.o.container !== 'body') {\n        top += scrollTop;\n      }\n\n      this.picker.removeClass('datepicker-orient-top datepicker-orient-bottom ' + 'datepicker-orient-right datepicker-orient-left');\n\n      if (this.o.orientation.x !== 'auto') {\n        this.picker.addClass('datepicker-orient-' + this.o.orientation.x);\n        if (this.o.orientation.x === 'right') left -= calendarWidth - width;\n      } // auto x orientation is best-placement: if it crosses a window\n      // edge, fudge it sideways\n      else {\n          if (offset.left < 0) {\n            // component is outside the window on the left side. Move it into visible range\n            this.picker.addClass('datepicker-orient-left');\n            left -= offset.left - visualPadding;\n          } else if (left + calendarWidth > windowWidth) {\n            // the calendar passes the widow right edge. Align it to component right side\n            this.picker.addClass('datepicker-orient-right');\n            left += width - calendarWidth;\n          } else {\n            // Default to left\n            this.picker.addClass('datepicker-orient-left');\n          }\n        } // auto y orientation is best-situation: top or bottom, no fudging,\n      // decision based on which shows more of the calendar\n\n\n      var yorient = this.o.orientation.y,\n          top_overflow;\n\n      if (yorient === 'auto') {\n        top_overflow = -scrollTop + top - calendarHeight;\n        yorient = top_overflow < 0 ? 'bottom' : 'top';\n      }\n\n      this.picker.addClass('datepicker-orient-' + yorient);\n      if (yorient === 'top') top -= calendarHeight + parseInt(this.picker.css('padding-top'));else top += height;\n\n      if (this.o.rtl) {\n        var right = windowWidth - (left + width);\n        this.picker.css({\n          top: top,\n          right: right,\n          zIndex: zIndex\n        });\n      } else {\n        this.picker.css({\n          top: top,\n          left: left,\n          zIndex: zIndex\n        });\n      }\n\n      return this;\n    },\n    _allow_update: true,\n    update: function update() {\n      if (!this._allow_update) return this;\n      var oldDates = this.dates.copy(),\n          dates = [],\n          fromArgs = false;\n\n      if (arguments.length) {\n        $.each(arguments, $.proxy(function (i, date) {\n          if (date instanceof Date) date = this._local_to_utc(date);\n          dates.push(date);\n        }, this));\n        fromArgs = true;\n      } else {\n        dates = this.isInput ? this.element.val() : this.element.data('date') || this.inputField.val();\n        if (dates && this.o.multidate) dates = dates.split(this.o.multidateSeparator);else dates = [dates];\n        delete this.element.data().date;\n      }\n\n      dates = $.map(dates, $.proxy(function (date) {\n        return DPGlobal.parseDate(date, this.o.format, this.o.language, this.o.assumeNearbyYear);\n      }, this));\n      dates = $.grep(dates, $.proxy(function (date) {\n        return !this.dateWithinRange(date) || !date;\n      }, this), true);\n      this.dates.replace(dates);\n      if (this.dates.length) this.viewDate = new Date(this.dates.get(-1));else if (this.viewDate < this.o.startDate) this.viewDate = new Date(this.o.startDate);else if (this.viewDate > this.o.endDate) this.viewDate = new Date(this.o.endDate);else this.viewDate = this.o.defaultViewDate;\n\n      if (fromArgs) {\n        // setting date by clicking\n        this.setValue();\n      } else if (dates.length) {\n        // setting date by typing\n        if (String(oldDates) !== String(this.dates)) this._trigger('changeDate');\n      }\n\n      if (!this.dates.length && oldDates.length) this._trigger('clearDate');\n      this.fill();\n      this.element.change();\n      return this;\n    },\n    fillDow: function fillDow() {\n      var dowCnt = this.o.weekStart,\n          html = '<tr>';\n\n      if (this.o.calendarWeeks) {\n        this.picker.find('.datepicker-days .datepicker-switch').attr('colspan', function (i, val) {\n          return parseInt(val) + 1;\n        });\n        html += '<th class=\"cw\">&#160;</th>';\n      }\n\n      while (dowCnt < this.o.weekStart + 7) {\n        html += '<th class=\"dow';\n        if ($.inArray(dowCnt, this.o.daysOfWeekDisabled) > -1) html += ' disabled';\n        html += '\">' + dates[this.o.language].daysMin[dowCnt++ % 7] + '</th>';\n      }\n\n      html += '</tr>';\n      this.picker.find('.datepicker-days thead').append(html);\n    },\n    fillMonths: function fillMonths() {\n      var localDate = this._utc_to_local(this.viewDate);\n\n      var html = '',\n          i = 0;\n\n      while (i < 12) {\n        var focused = localDate && localDate.getMonth() === i ? ' focused' : '';\n        html += '<span class=\"month' + focused + '\">' + dates[this.o.language].monthsShort[i++] + '</span>';\n      }\n\n      this.picker.find('.datepicker-months td').html(html);\n    },\n    setRange: function setRange(range) {\n      if (!range || !range.length) delete this.range;else this.range = $.map(range, function (d) {\n        return d.valueOf();\n      });\n      this.fill();\n    },\n    getClassNames: function getClassNames(date) {\n      var cls = [],\n          year = this.viewDate.getUTCFullYear(),\n          month = this.viewDate.getUTCMonth(),\n          today = new Date();\n\n      if (date.getUTCFullYear() < year || date.getUTCFullYear() === year && date.getUTCMonth() < month) {\n        cls.push('old');\n      } else if (date.getUTCFullYear() > year || date.getUTCFullYear() === year && date.getUTCMonth() > month) {\n        cls.push('new');\n      }\n\n      if (this.focusDate && date.valueOf() === this.focusDate.valueOf()) cls.push('focused'); // Compare internal UTC date with local today, not UTC today\n\n      if (this.o.todayHighlight && date.getUTCFullYear() === today.getFullYear() && date.getUTCMonth() === today.getMonth() && date.getUTCDate() === today.getDate()) {\n        cls.push('today');\n      }\n\n      if (this.dates.contains(date) !== -1) cls.push('active');\n\n      if (!this.dateWithinRange(date)) {\n        cls.push('disabled');\n      }\n\n      if (this.dateIsDisabled(date)) {\n        cls.push('disabled', 'disabled-date');\n      }\n\n      if ($.inArray(date.getUTCDay(), this.o.daysOfWeekHighlighted) !== -1) {\n        cls.push('highlighted');\n      }\n\n      if (this.range) {\n        if (date > this.range[0] && date < this.range[this.range.length - 1]) {\n          cls.push('range');\n        }\n\n        if ($.inArray(date.valueOf(), this.range) !== -1) {\n          cls.push('selected');\n        }\n\n        if (date.valueOf() === this.range[0]) {\n          cls.push('range-start');\n        }\n\n        if (date.valueOf() === this.range[this.range.length - 1]) {\n          cls.push('range-end');\n        }\n      }\n\n      return cls;\n    },\n    _fill_yearsView: function _fill_yearsView(selector, cssClass, factor, step, currentYear, startYear, endYear, callback) {\n      var html, view, year, steps, startStep, endStep, thisYear, i, classes, tooltip, before;\n      html = '';\n      view = this.picker.find(selector);\n      year = parseInt(currentYear / factor, 10) * factor;\n      startStep = parseInt(startYear / step, 10) * step;\n      endStep = parseInt(endYear / step, 10) * step;\n      steps = $.map(this.dates, function (d) {\n        return parseInt(d.getUTCFullYear() / step, 10) * step;\n      });\n      view.find('.datepicker-switch').text(year + '-' + (year + step * 9));\n      thisYear = year - step;\n\n      for (i = -1; i < 11; i += 1) {\n        classes = [cssClass];\n        tooltip = null;\n\n        if (i === -1) {\n          classes.push('old');\n        } else if (i === 10) {\n          classes.push('new');\n        }\n\n        if ($.inArray(thisYear, steps) !== -1) {\n          classes.push('active');\n        }\n\n        if (thisYear < startStep || thisYear > endStep) {\n          classes.push('disabled');\n        }\n\n        if (thisYear === this.viewDate.getFullYear()) {\n          classes.push('focused');\n        }\n\n        if (callback !== $.noop) {\n          before = callback(new Date(thisYear, 0, 1));\n\n          if (before === undefined) {\n            before = {};\n          } else if (typeof before === 'boolean') {\n            before = {\n              enabled: before\n            };\n          } else if (typeof before === 'string') {\n            before = {\n              classes: before\n            };\n          }\n\n          if (before.enabled === false) {\n            classes.push('disabled');\n          }\n\n          if (before.classes) {\n            classes = classes.concat(before.classes.split(/\\s+/));\n          }\n\n          if (before.tooltip) {\n            tooltip = before.tooltip;\n          }\n        }\n\n        html += '<span class=\"' + classes.join(' ') + '\"' + (tooltip ? ' title=\"' + tooltip + '\"' : '') + '>' + thisYear + '</span>';\n        thisYear += step;\n      }\n\n      view.find('td').html(html);\n    },\n    fill: function fill() {\n      var d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          startYear = this.o.startDate !== -Infinity ? this.o.startDate.getUTCFullYear() : -Infinity,\n          startMonth = this.o.startDate !== -Infinity ? this.o.startDate.getUTCMonth() : -Infinity,\n          endYear = this.o.endDate !== Infinity ? this.o.endDate.getUTCFullYear() : Infinity,\n          endMonth = this.o.endDate !== Infinity ? this.o.endDate.getUTCMonth() : Infinity,\n          todaytxt = dates[this.o.language].today || dates['en'].today || '',\n          cleartxt = dates[this.o.language].clear || dates['en'].clear || '',\n          titleFormat = dates[this.o.language].titleFormat || dates['en'].titleFormat,\n          tooltip,\n          before;\n      if (isNaN(year) || isNaN(month)) return;\n      this.picker.find('.datepicker-days .datepicker-switch').text(DPGlobal.formatDate(d, titleFormat, this.o.language));\n      this.picker.find('tfoot .today').text(todaytxt).toggle(this.o.todayBtn !== false);\n      this.picker.find('tfoot .clear').text(cleartxt).toggle(this.o.clearBtn !== false);\n      this.picker.find('thead .datepicker-title').text(this.o.title).toggle(this.o.title !== '');\n      this.updateNavArrows();\n      this.fillMonths();\n      var prevMonth = UTCDate(year, month - 1, 28),\n          day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.o.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth);\n\n      if (prevMonth.getUTCFullYear() < 100) {\n        nextMonth.setUTCFullYear(prevMonth.getUTCFullYear());\n      }\n\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var clsName;\n\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() === this.o.weekStart) {\n          html.push('<tr>');\n\n          if (this.o.calendarWeeks) {\n            // ISO 8601: First week contains first thursday.\n            // ISO also states week starts on Monday, but we can be more abstract here.\n            var // Start of current week: based on weekstart/current date\n            ws = new Date(+prevMonth + (this.o.weekStart - prevMonth.getUTCDay() - 7) % 7 * 864e5),\n                // Thursday of this week\n            th = new Date(Number(ws) + (7 + 4 - ws.getUTCDay()) % 7 * 864e5),\n                // First Thursday of year, year from thursday\n            yth = new Date(Number(yth = UTCDate(th.getUTCFullYear(), 0, 1)) + (7 + 4 - yth.getUTCDay()) % 7 * 864e5),\n                // Calendar week: ms between thursdays, div ms per day, div 7 days\n            calWeek = (th - yth) / 864e5 / 7 + 1;\n            html.push('<td class=\"cw\">' + calWeek + '</td>');\n          }\n        }\n\n        clsName = this.getClassNames(prevMonth);\n        clsName.push('day');\n\n        if (this.o.beforeShowDay !== $.noop) {\n          before = this.o.beforeShowDay(this._utc_to_local(prevMonth));\n          if (before === undefined) before = {};else if (typeof before === 'boolean') before = {\n            enabled: before\n          };else if (typeof before === 'string') before = {\n            classes: before\n          };\n          if (before.enabled === false) clsName.push('disabled');\n          if (before.classes) clsName = clsName.concat(before.classes.split(/\\s+/));\n          if (before.tooltip) tooltip = before.tooltip;\n        } //Check if uniqueSort exists (supported by jquery >=1.12 and >=2.2)\n        //Fallback to unique function for older jquery versions\n\n\n        if ($.isFunction($.uniqueSort)) {\n          clsName = $.uniqueSort(clsName);\n        } else {\n          clsName = $.unique(clsName);\n        }\n\n        html.push('<td class=\"' + clsName.join(' ') + '\"' + (tooltip ? ' title=\"' + tooltip + '\"' : '') + '>' + prevMonth.getUTCDate() + '</td>');\n        tooltip = null;\n\n        if (prevMonth.getUTCDay() === this.o.weekEnd) {\n          html.push('</tr>');\n        }\n\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n\n      this.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n      var monthsTitle = dates[this.o.language].monthsTitle || dates['en'].monthsTitle || 'Months';\n      var months = this.picker.find('.datepicker-months').find('.datepicker-switch').text(this.o.maxViewMode < 2 ? monthsTitle : year).end().find('span').removeClass('active');\n      $.each(this.dates, function (i, d) {\n        if (d.getUTCFullYear() === year) months.eq(d.getUTCMonth()).addClass('active');\n      });\n\n      if (year < startYear || year > endYear) {\n        months.addClass('disabled');\n      }\n\n      if (year === startYear) {\n        months.slice(0, startMonth).addClass('disabled');\n      }\n\n      if (year === endYear) {\n        months.slice(endMonth + 1).addClass('disabled');\n      }\n\n      if (this.o.beforeShowMonth !== $.noop) {\n        var that = this;\n        $.each(months, function (i, month) {\n          var moDate = new Date(year, i, 1);\n          var before = that.o.beforeShowMonth(moDate);\n          if (before === undefined) before = {};else if (typeof before === 'boolean') before = {\n            enabled: before\n          };else if (typeof before === 'string') before = {\n            classes: before\n          };\n          if (before.enabled === false && !$(month).hasClass('disabled')) $(month).addClass('disabled');\n          if (before.classes) $(month).addClass(before.classes);\n          if (before.tooltip) $(month).prop('title', before.tooltip);\n        });\n      } // Generating decade/years picker\n\n\n      this._fill_yearsView('.datepicker-years', 'year', 10, 1, year, startYear, endYear, this.o.beforeShowYear); // Generating century/decades picker\n\n\n      this._fill_yearsView('.datepicker-decades', 'decade', 100, 10, year, startYear, endYear, this.o.beforeShowDecade); // Generating millennium/centuries picker\n\n\n      this._fill_yearsView('.datepicker-centuries', 'century', 1000, 100, year, startYear, endYear, this.o.beforeShowCentury);\n    },\n    updateNavArrows: function updateNavArrows() {\n      if (!this._allow_update) return;\n      var d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth();\n\n      switch (this.viewMode) {\n        case 0:\n          if (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() && month <= this.o.startDate.getUTCMonth()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() && month >= this.o.endDate.getUTCMonth()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n\n        case 1:\n        case 2:\n        case 3:\n        case 4:\n          if (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() || this.o.maxViewMode < 2) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() || this.o.maxViewMode < 2) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n      }\n    },\n    click: function click(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var target, dir, day, year, month, monthChanged, yearChanged;\n      target = $(e.target); // Clicked on the switch\n\n      if (target.hasClass('datepicker-switch')) {\n        this.showMode(1);\n      } // Clicked on prev or next\n\n\n      var navArrow = target.closest('.prev, .next');\n\n      if (navArrow.length > 0) {\n        dir = DPGlobal.modes[this.viewMode].navStep * (navArrow.hasClass('prev') ? -1 : 1);\n\n        if (this.viewMode === 0) {\n          this.viewDate = this.moveMonth(this.viewDate, dir);\n\n          this._trigger('changeMonth', this.viewDate);\n        } else {\n          this.viewDate = this.moveYear(this.viewDate, dir);\n\n          if (this.viewMode === 1) {\n            this._trigger('changeYear', this.viewDate);\n          }\n        }\n\n        this.fill();\n      } // Clicked on today button\n\n\n      if (target.hasClass('today') && !target.hasClass('day')) {\n        this.showMode(-2);\n\n        this._setDate(UTCToday(), this.o.todayBtn === 'linked' ? null : 'view');\n      } // Clicked on clear button\n\n\n      if (target.hasClass('clear')) {\n        this.clearDates();\n      }\n\n      if (!target.hasClass('disabled')) {\n        // Clicked on a day\n        if (target.hasClass('day')) {\n          day = parseInt(target.text(), 10) || 1;\n          year = this.viewDate.getUTCFullYear();\n          month = this.viewDate.getUTCMonth(); // From last month\n\n          if (target.hasClass('old')) {\n            if (month === 0) {\n              month = 11;\n              year = year - 1;\n              monthChanged = true;\n              yearChanged = true;\n            } else {\n              month = month - 1;\n              monthChanged = true;\n            }\n          } // From next month\n\n\n          if (target.hasClass('new')) {\n            if (month === 11) {\n              month = 0;\n              year = year + 1;\n              monthChanged = true;\n              yearChanged = true;\n            } else {\n              month = month + 1;\n              monthChanged = true;\n            }\n          }\n\n          this._setDate(UTCDate(year, month, day));\n\n          if (yearChanged) {\n            this._trigger('changeYear', this.viewDate);\n          }\n\n          if (monthChanged) {\n            this._trigger('changeMonth', this.viewDate);\n          }\n        } // Clicked on a month\n\n\n        if (target.hasClass('month')) {\n          this.viewDate.setUTCDate(1);\n          day = 1;\n          month = target.parent().find('span').index(target);\n          year = this.viewDate.getUTCFullYear();\n          this.viewDate.setUTCMonth(month);\n\n          this._trigger('changeMonth', this.viewDate);\n\n          if (this.o.minViewMode === 1) {\n            this._setDate(UTCDate(year, month, day));\n\n            this.showMode();\n          } else {\n            this.showMode(-1);\n          }\n\n          this.fill();\n        } // Clicked on a year\n\n\n        if (target.hasClass('year') || target.hasClass('decade') || target.hasClass('century')) {\n          this.viewDate.setUTCDate(1);\n          day = 1;\n          month = 0;\n          year = parseInt(target.text(), 10) || 0;\n          this.viewDate.setUTCFullYear(year);\n\n          if (target.hasClass('year')) {\n            this._trigger('changeYear', this.viewDate);\n\n            if (this.o.minViewMode === 2) {\n              this._setDate(UTCDate(year, month, day));\n            }\n          }\n\n          if (target.hasClass('decade')) {\n            this._trigger('changeDecade', this.viewDate);\n\n            if (this.o.minViewMode === 3) {\n              this._setDate(UTCDate(year, month, day));\n            }\n          }\n\n          if (target.hasClass('century')) {\n            this._trigger('changeCentury', this.viewDate);\n\n            if (this.o.minViewMode === 4) {\n              this._setDate(UTCDate(year, month, day));\n            }\n          }\n\n          this.showMode(-1);\n          this.fill();\n        }\n      }\n\n      if (this.picker.is(':visible') && this._focused_from) {\n        $(this._focused_from).focus();\n      }\n\n      delete this._focused_from;\n    },\n    _toggle_multidate: function _toggle_multidate(date) {\n      var ix = this.dates.contains(date);\n\n      if (!date) {\n        this.dates.clear();\n      }\n\n      if (ix !== -1) {\n        if (this.o.multidate === true || this.o.multidate > 1 || this.o.toggleActive) {\n          this.dates.remove(ix);\n        }\n      } else if (this.o.multidate === false) {\n        this.dates.clear();\n        this.dates.push(date);\n      } else {\n        this.dates.push(date);\n      }\n\n      if (typeof this.o.multidate === 'number') while (this.dates.length > this.o.multidate) {\n        this.dates.remove(0);\n      }\n    },\n    _setDate: function _setDate(date, which) {\n      if (!which || which === 'date') this._toggle_multidate(date && new Date(date));\n      if (!which || which === 'view') this.viewDate = date && new Date(date);\n      this.fill();\n      this.setValue();\n\n      if (!which || which !== 'view') {\n        this._trigger('changeDate');\n      }\n\n      if (this.inputField) {\n        this.inputField.change();\n      }\n\n      if (this.o.autoclose && (!which || which === 'date')) {\n        this.hide();\n      }\n    },\n    moveDay: function moveDay(date, dir) {\n      var newDate = new Date(date);\n      newDate.setUTCDate(date.getUTCDate() + dir);\n      return newDate;\n    },\n    moveWeek: function moveWeek(date, dir) {\n      return this.moveDay(date, dir * 7);\n    },\n    moveMonth: function moveMonth(date, dir) {\n      if (!isValidDate(date)) return this.o.defaultViewDate;\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()),\n          day = new_date.getUTCDate(),\n          month = new_date.getUTCMonth(),\n          mag = Math.abs(dir),\n          new_month,\n          test;\n      dir = dir > 0 ? 1 : -1;\n\n      if (mag === 1) {\n        test = dir === -1 // If going back one month, make sure month is not current month\n        // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n        ? function () {\n          return new_date.getUTCMonth() === month;\n        } // If going forward one month, make sure month is as expected\n        // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n        : function () {\n          return new_date.getUTCMonth() !== new_month;\n        };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month); // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n\n        if (new_month < 0 || new_month > 11) new_month = (new_month + 12) % 12;\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (var i = 0; i < mag; i++) {\n          // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n          new_date = this.moveMonth(new_date, dir);\n        } // ...then reset the day, keeping it in the new month\n\n\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n\n        test = function test() {\n          return new_month !== new_date.getUTCMonth();\n        };\n      } // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n\n\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n\n      return new_date;\n    },\n    moveYear: function moveYear(date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n    moveAvailableDate: function moveAvailableDate(date, dir, fn) {\n      do {\n        date = this[fn](date, dir);\n        if (!this.dateWithinRange(date)) return false;\n        fn = 'moveDay';\n      } while (this.dateIsDisabled(date));\n\n      return date;\n    },\n    weekOfDateIsDisabled: function weekOfDateIsDisabled(date) {\n      return $.inArray(date.getUTCDay(), this.o.daysOfWeekDisabled) !== -1;\n    },\n    dateIsDisabled: function dateIsDisabled(date) {\n      return this.weekOfDateIsDisabled(date) || $.grep(this.o.datesDisabled, function (d) {\n        return isUTCEquals(date, d);\n      }).length > 0;\n    },\n    dateWithinRange: function dateWithinRange(date) {\n      return date >= this.o.startDate && date <= this.o.endDate;\n    },\n    keydown: function keydown(e) {\n      if (!this.picker.is(':visible')) {\n        if (e.keyCode === 40 || e.keyCode === 27) {\n          // allow down to re-show picker\n          this.show();\n          e.stopPropagation();\n        }\n\n        return;\n      }\n\n      var dateChanged = false,\n          dir,\n          newViewDate,\n          focusDate = this.focusDate || this.viewDate;\n\n      switch (e.keyCode) {\n        case 27:\n          // escape\n          if (this.focusDate) {\n            this.focusDate = null;\n            this.viewDate = this.dates.get(-1) || this.viewDate;\n            this.fill();\n          } else this.hide();\n\n          e.preventDefault();\n          e.stopPropagation();\n          break;\n\n        case 37: // left\n\n        case 38: // up\n\n        case 39: // right\n\n        case 40:\n          // down\n          if (!this.o.keyboardNavigation || this.o.daysOfWeekDisabled.length === 7) break;\n          dir = e.keyCode === 37 || e.keyCode === 38 ? -1 : 1;\n\n          if (this.viewMode === 0) {\n            if (e.ctrlKey) {\n              newViewDate = this.moveAvailableDate(focusDate, dir, 'moveYear');\n              if (newViewDate) this._trigger('changeYear', this.viewDate);\n            } else if (e.shiftKey) {\n              newViewDate = this.moveAvailableDate(focusDate, dir, 'moveMonth');\n              if (newViewDate) this._trigger('changeMonth', this.viewDate);\n            } else if (e.keyCode === 37 || e.keyCode === 39) {\n              newViewDate = this.moveAvailableDate(focusDate, dir, 'moveDay');\n            } else if (!this.weekOfDateIsDisabled(focusDate)) {\n              newViewDate = this.moveAvailableDate(focusDate, dir, 'moveWeek');\n            }\n          } else if (this.viewMode === 1) {\n            if (e.keyCode === 38 || e.keyCode === 40) {\n              dir = dir * 4;\n            }\n\n            newViewDate = this.moveAvailableDate(focusDate, dir, 'moveMonth');\n          } else if (this.viewMode === 2) {\n            if (e.keyCode === 38 || e.keyCode === 40) {\n              dir = dir * 4;\n            }\n\n            newViewDate = this.moveAvailableDate(focusDate, dir, 'moveYear');\n          }\n\n          if (newViewDate) {\n            this.focusDate = this.viewDate = newViewDate;\n            this.setValue();\n            this.fill();\n            e.preventDefault();\n          }\n\n          break;\n\n        case 13:\n          // enter\n          if (!this.o.forceParse) break;\n          focusDate = this.focusDate || this.dates.get(-1) || this.viewDate;\n\n          if (this.o.keyboardNavigation) {\n            this._toggle_multidate(focusDate);\n\n            dateChanged = true;\n          }\n\n          this.focusDate = null;\n          this.viewDate = this.dates.get(-1) || this.viewDate;\n          this.setValue();\n          this.fill();\n\n          if (this.picker.is(':visible')) {\n            e.preventDefault();\n            e.stopPropagation();\n            if (this.o.autoclose) this.hide();\n          }\n\n          break;\n\n        case 9:\n          // tab\n          this.focusDate = null;\n          this.viewDate = this.dates.get(-1) || this.viewDate;\n          this.fill();\n          this.hide();\n          break;\n      }\n\n      if (dateChanged) {\n        if (this.dates.length) this._trigger('changeDate');else this._trigger('clearDate');\n\n        if (this.inputField) {\n          this.inputField.change();\n        }\n      }\n    },\n    showMode: function showMode(dir) {\n      if (dir) {\n        this.viewMode = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, this.viewMode + dir));\n      }\n\n      this.picker.children('div').hide().filter('.datepicker-' + DPGlobal.modes[this.viewMode].clsName).show();\n      this.updateNavArrows();\n    }\n  };\n\n  var DateRangePicker = function DateRangePicker(element, options) {\n    $(element).data('datepicker', this);\n    this.element = $(element);\n    this.inputs = $.map(options.inputs, function (i) {\n      return i.jquery ? i[0] : i;\n    });\n    delete options.inputs;\n    datepickerPlugin.call($(this.inputs), options).on('changeDate', $.proxy(this.dateUpdated, this));\n    this.pickers = $.map(this.inputs, function (i) {\n      return $(i).data('datepicker');\n    });\n    this.updateDates();\n  };\n\n  DateRangePicker.prototype = {\n    updateDates: function updateDates() {\n      this.dates = $.map(this.pickers, function (i) {\n        return i.getUTCDate();\n      });\n      this.updateRanges();\n    },\n    updateRanges: function updateRanges() {\n      var range = $.map(this.dates, function (d) {\n        return d.valueOf();\n      });\n      $.each(this.pickers, function (i, p) {\n        p.setRange(range);\n      });\n    },\n    dateUpdated: function dateUpdated(e) {\n      // `this.updating` is a workaround for preventing infinite recursion\n      // between `changeDate` triggering and `setUTCDate` calling.  Until\n      // there is a better mechanism.\n      if (this.updating) return;\n      this.updating = true;\n      var dp = $(e.target).data('datepicker');\n\n      if (typeof dp === \"undefined\") {\n        return;\n      }\n\n      var new_date = dp.getUTCDate(),\n          i = $.inArray(e.target, this.inputs),\n          j = i - 1,\n          k = i + 1,\n          l = this.inputs.length;\n      if (i === -1) return;\n      $.each(this.pickers, function (i, p) {\n        if (!p.getUTCDate()) p.setUTCDate(new_date);\n      });\n\n      if (new_date < this.dates[j]) {\n        // Date being moved earlier/left\n        while (j >= 0 && new_date < this.dates[j]) {\n          this.pickers[j--].setUTCDate(new_date);\n        }\n      } else if (new_date > this.dates[k]) {\n        // Date being moved later/right\n        while (k < l && new_date > this.dates[k]) {\n          this.pickers[k++].setUTCDate(new_date);\n        }\n      }\n\n      this.updateDates();\n      delete this.updating;\n    },\n    remove: function remove() {\n      $.map(this.pickers, function (p) {\n        p.remove();\n      });\n      delete this.element.data().datepicker;\n    }\n  };\n\n  function opts_from_el(el, prefix) {\n    // Derive options from element data-attrs\n    var data = $(el).data(),\n        out = {},\n        inkey,\n        replace = new RegExp('^' + prefix.toLowerCase() + '([A-Z])');\n    prefix = new RegExp('^' + prefix.toLowerCase());\n\n    function re_lower(_, a) {\n      return a.toLowerCase();\n    }\n\n    for (var key in data) {\n      if (prefix.test(key)) {\n        inkey = key.replace(replace, re_lower);\n        out[inkey] = data[key];\n      }\n    }\n\n    return out;\n  }\n\n  function opts_from_locale(lang) {\n    // Derive options from locale plugins\n    var out = {}; // Check if \"de-DE\" style date is available, if not language should\n    // fallback to 2 letter code eg \"de\"\n\n    if (!dates[lang]) {\n      lang = lang.split('-')[0];\n      if (!dates[lang]) return;\n    }\n\n    var d = dates[lang];\n    $.each(locale_opts, function (i, k) {\n      if (k in d) out[k] = d[k];\n    });\n    return out;\n  }\n\n  var old = $.fn.datepicker;\n\n  var datepickerPlugin = function datepickerPlugin(option) {\n    var args = Array.apply(null, arguments);\n    args.shift();\n    var internal_return;\n    this.each(function () {\n      var $this = $(this),\n          data = $this.data('datepicker'),\n          options = typeof option === 'object' && option;\n\n      if (!data) {\n        var elopts = opts_from_el(this, 'date'),\n            // Preliminary otions\n        xopts = $.extend({}, defaults, elopts, options),\n            locopts = opts_from_locale(xopts.language),\n            // Options priority: js args, data-attrs, locales, defaults\n        opts = $.extend({}, defaults, locopts, elopts, options);\n\n        if ($this.hasClass('input-daterange') || opts.inputs) {\n          $.extend(opts, {\n            inputs: opts.inputs || $this.find('input').toArray()\n          });\n          data = new DateRangePicker(this, opts);\n        } else {\n          data = new Datepicker(this, opts);\n        }\n\n        $this.data('datepicker', data);\n      }\n\n      if (typeof option === 'string' && typeof data[option] === 'function') {\n        internal_return = data[option].apply(data, args);\n      }\n    });\n    if (internal_return === undefined || internal_return instanceof Datepicker || internal_return instanceof DateRangePicker) return this;\n    if (this.length > 1) throw new Error('Using only allowed for the collection of a single element (' + option + ' function)');else return internal_return;\n  };\n\n  $.fn.datepicker = datepickerPlugin;\n  var defaults = $.fn.datepicker.defaults = {\n    assumeNearbyYear: false,\n    autoclose: false,\n    beforeShowDay: $.noop,\n    beforeShowMonth: $.noop,\n    beforeShowYear: $.noop,\n    beforeShowDecade: $.noop,\n    beforeShowCentury: $.noop,\n    calendarWeeks: false,\n    clearBtn: false,\n    toggleActive: false,\n    daysOfWeekDisabled: [],\n    daysOfWeekHighlighted: [],\n    datesDisabled: [],\n    endDate: Infinity,\n    forceParse: true,\n    format: 'mm/dd/yyyy',\n    keyboardNavigation: true,\n    language: 'en',\n    minViewMode: 0,\n    maxViewMode: 4,\n    multidate: false,\n    multidateSeparator: ',',\n    orientation: \"auto\",\n    rtl: false,\n    startDate: -Infinity,\n    startView: 0,\n    todayBtn: false,\n    todayHighlight: false,\n    weekStart: 0,\n    disableTouchKeyboard: false,\n    enableOnReadonly: true,\n    showOnFocus: true,\n    zIndexOffset: 10,\n    container: 'body',\n    immediateUpdates: false,\n    title: '',\n    templates: {\n      leftArrow: '&laquo;',\n      rightArrow: '&raquo;'\n    }\n  };\n  var locale_opts = $.fn.datepicker.locale_opts = ['format', 'rtl', 'weekStart'];\n  $.fn.datepicker.Constructor = Datepicker;\n  var dates = $.fn.datepicker.dates = {\n    en: {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n      daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      today: \"Today\",\n      clear: \"Clear\",\n      titleFormat: \"MM yyyy\"\n    }\n  };\n  var DPGlobal = {\n    modes: [{\n      clsName: 'days',\n      navFnc: 'Month',\n      navStep: 1\n    }, {\n      clsName: 'months',\n      navFnc: 'FullYear',\n      navStep: 1\n    }, {\n      clsName: 'years',\n      navFnc: 'FullYear',\n      navStep: 10\n    }, {\n      clsName: 'decades',\n      navFnc: 'FullDecade',\n      navStep: 100\n    }, {\n      clsName: 'centuries',\n      navFnc: 'FullCentury',\n      navStep: 1000\n    }],\n    isLeapYear: function isLeapYear(year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n    getDaysInMonth: function getDaysInMonth(year, month) {\n      return [31, DPGlobal.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n    nonpunctuation: /[^ -\\/:-@\\u5e74\\u6708\\u65e5\\[-`{-~\\t\\n\\r]+/g,\n    parseFormat: function parseFormat(format) {\n      if (typeof format.toValue === 'function' && typeof format.toDisplay === 'function') return format; // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n\n      var separators = format.replace(this.validParts, '\\0').split('\\0'),\n          parts = format.match(this.validParts);\n\n      if (!separators || !separators.length || !parts || parts.length === 0) {\n        throw new Error(\"Invalid date format.\");\n      }\n\n      return {\n        separators: separators,\n        parts: parts\n      };\n    },\n    parseDate: function parseDate(date, format, language, assumeNearby) {\n      if (!date) return undefined;\n      if (date instanceof Date) return date;\n      if (typeof format === 'string') format = DPGlobal.parseFormat(format);\n      if (format.toValue) return format.toValue(date, format, language);\n      var part_re = /([\\-+]\\d+)([dmwy])/,\n          parts = date.match(/([\\-+]\\d+)([dmwy])/g),\n          fn_map = {\n        d: 'moveDay',\n        m: 'moveMonth',\n        w: 'moveWeek',\n        y: 'moveYear'\n      },\n          dateAliases = {\n        yesterday: '-1d',\n        today: '+0d',\n        tomorrow: '+1d'\n      },\n          part,\n          dir,\n          i,\n          fn;\n\n      if (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)) {\n        date = new Date();\n\n        for (i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n          fn = fn_map[part[2]];\n          date = Datepicker.prototype[fn](date, dir);\n        }\n\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n      }\n\n      if (typeof dateAliases[date] !== 'undefined') {\n        date = dateAliases[date];\n        parts = date.match(/([\\-+]\\d+)([dmwy])/g);\n\n        if (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)) {\n          date = new Date();\n\n          for (i = 0; i < parts.length; i++) {\n            part = part_re.exec(parts[i]);\n            dir = parseInt(part[1]);\n            fn = fn_map[part[2]];\n            date = Datepicker.prototype[fn](date, dir);\n          }\n\n          return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n        }\n      }\n\n      parts = date && date.match(this.nonpunctuation) || [];\n      date = new Date();\n\n      function applyNearbyYear(year, threshold) {\n        if (threshold === true) threshold = 10; // if year is 2 digits or less, than the user most likely is trying to get a recent century\n\n        if (year < 100) {\n          year += 2000; // if the new year is more than threshold years in advance, use last century\n\n          if (year > new Date().getFullYear() + threshold) {\n            year -= 100;\n          }\n        }\n\n        return year;\n      }\n\n      var parsed = {},\n          setters_order = ['yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'd', 'dd'],\n          setters_map = {\n        yyyy: function yyyy(d, v) {\n          return d.setUTCFullYear(assumeNearby ? applyNearbyYear(v, assumeNearby) : v);\n        },\n        yy: function yy(d, v) {\n          return d.setUTCFullYear(assumeNearby ? applyNearbyYear(v, assumeNearby) : v);\n        },\n        m: function m(d, v) {\n          if (isNaN(d)) return d;\n          v -= 1;\n\n          while (v < 0) {\n            v += 12;\n          }\n\n          v %= 12;\n          d.setUTCMonth(v);\n\n          while (d.getUTCMonth() !== v) {\n            d.setUTCDate(d.getUTCDate() - 1);\n          }\n\n          return d;\n        },\n        d: function d(_d, v) {\n          return _d.setUTCDate(v);\n        }\n      },\n          val,\n          filtered;\n      setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n      setters_map['dd'] = setters_map['d'];\n      date = UTCToday();\n      var fparts = format.parts.slice(); // Remove noop parts\n\n      if (parts.length !== fparts.length) {\n        fparts = $(fparts).filter(function (i, p) {\n          return $.inArray(p, setters_order) !== -1;\n        }).toArray();\n      } // Process remainder\n\n\n      function match_part() {\n        var m = this.slice(0, parts[i].length),\n            p = parts[i].slice(0, m.length);\n        return m.toLowerCase() === p.toLowerCase();\n      }\n\n      if (parts.length === fparts.length) {\n        var cnt;\n\n        for (i = 0, cnt = fparts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = fparts[i];\n\n          if (isNaN(val)) {\n            switch (part) {\n              case 'MM':\n                filtered = $(dates[language].months).filter(match_part);\n                val = $.inArray(filtered[0], dates[language].months) + 1;\n                break;\n\n              case 'M':\n                filtered = $(dates[language].monthsShort).filter(match_part);\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                break;\n            }\n          }\n\n          parsed[part] = val;\n        }\n\n        var _date, s;\n\n        for (i = 0; i < setters_order.length; i++) {\n          s = setters_order[i];\n\n          if (s in parsed && !isNaN(parsed[s])) {\n            _date = new Date(date);\n            setters_map[s](_date, parsed[s]);\n            if (!isNaN(_date)) date = _date;\n          }\n        }\n      }\n\n      return date;\n    },\n    formatDate: function formatDate(date, format, language) {\n      if (!date) return '';\n      if (typeof format === 'string') format = DPGlobal.parseFormat(format);\n      if (format.toDisplay) return format.toDisplay(date, format, language);\n      var val = {\n        d: date.getUTCDate(),\n        D: dates[language].daysShort[date.getUTCDay()],\n        DD: dates[language].days[date.getUTCDay()],\n        m: date.getUTCMonth() + 1,\n        M: dates[language].monthsShort[date.getUTCMonth()],\n        MM: dates[language].months[date.getUTCMonth()],\n        yy: date.getUTCFullYear().toString().substring(2),\n        yyyy: date.getUTCFullYear()\n      };\n      val.dd = (val.d < 10 ? '0' : '') + val.d;\n      val.mm = (val.m < 10 ? '0' : '') + val.m;\n      date = [];\n      var seps = $.extend([], format.separators);\n\n      for (var i = 0, cnt = format.parts.length; i <= cnt; i++) {\n        if (seps.length) date.push(seps.shift());\n        date.push(val[format.parts[i]]);\n      }\n\n      return date.join('');\n    },\n    headTemplate: '<thead>' + '<tr>' + '<th colspan=\"7\" class=\"datepicker-title\"></th>' + '</tr>' + '<tr>' + '<th class=\"prev\">&laquo;</th>' + '<th colspan=\"5\" class=\"datepicker-switch\"></th>' + '<th class=\"next\">&raquo;</th>' + '</tr>' + '</thead>',\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot>' + '<tr>' + '<th colspan=\"7\" class=\"today\"></th>' + '</tr>' + '<tr>' + '<th colspan=\"7\" class=\"clear\"></th>' + '</tr>' + '</tfoot>'\n  };\n  DPGlobal.template = '<div class=\"datepicker\">' + '<div class=\"datepicker-days\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + '<tbody></tbody>' + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-months\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-years\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-decades\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-centuries\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '</div>';\n  $.fn.datepicker.DPGlobal = DPGlobal;\n  /* DATEPICKER NO CONFLICT\n  * =================== */\n\n  $.fn.datepicker.noConflict = function () {\n    $.fn.datepicker = old;\n    return this;\n  };\n  /* DATEPICKER VERSION\n   * =================== */\n\n\n  $.fn.datepicker.version = '1.6.4';\n  /* DATEPICKER DATA-API\n  * ================== */\n\n  $(document).on('focus.datepicker.data-api click.datepicker.data-api', '[data-provide=\"datepicker\"]', function (e) {\n    var $this = $(this);\n    if ($this.data('datepicker')) return;\n    e.preventDefault(); // component click requires us to explicitly show it\n\n    datepickerPlugin.call($this, 'show');\n  });\n  $(function () {\n    datepickerPlugin.call($('[data-provide=\"datepicker-inline\"]'));\n  });\n});","map":{"version":3,"sources":["/Users/nortonricardo/Desktop/Faculdade/AgroTom/app/javascript/packs/datepiker.js"],"names":["factory","define","amd","exports","require","jQuery","$","undefined","UTCDate","Date","UTC","apply","arguments","UTCToday","today","getFullYear","getMonth","getDate","isUTCEquals","date1","date2","getUTCFullYear","getUTCMonth","getUTCDate","alias","method","isValidDate","d","isNaN","getTime","DateArray","extras","get","i","slice","contains","val","valueOf","l","length","remove","splice","replace","new_array","isArray","clear","push","copy","a","extend","Datepicker","element","options","data","_process_options","dates","viewDate","o","defaultViewDate","focusDate","isInput","is","inputField","find","component","hasClass","hasInput","isInline","picker","DPGlobal","template","_check_template","templates","leftArrow","html","rightArrow","_buildEvents","_attachEvents","addClass","appendTo","rtl","viewMode","startView","calendarWeeks","attr","parseInt","_allow_update","setStartDate","_o","startDate","setEndDate","endDate","setDaysOfWeekDisabled","daysOfWeekDisabled","setDaysOfWeekHighlighted","daysOfWeekHighlighted","setDatesDisabled","datesDisabled","fillDow","fillMonths","update","showMode","show","prototype","constructor","_resolveViewName","view","default_value","tmp","match","jDom","ex","opts","lang","language","split","defaults","minViewMode","maxViewMode","Math","min","max","multidate","Number","multidateSeparator","String","weekStart","weekEnd","format","parseFormat","Infinity","_local_to_utc","_zero_time","parseDate","assumeNearbyYear","map","plc","orientation","toLowerCase","_plc","grep","word","test","x","y","year","month","day","_events","_secondaryEvents","_applyEvents","evs","el","ch","ev","on","_unapplyEvents","off","events","keyup","proxy","e","inArray","keyCode","keydown","paste","showOnFocus","focus","click","blur","_focused_from","target","immediateUpdates","date","window","resize","place","document","mousedown","hide","_detachEvents","_attachSecondaryEvents","_detachSecondaryEvents","_trigger","event","altdate","local_date","_utc_to_local","trigger","type","ix","formatDate","prop","enableOnReadonly","container","navigator","msMaxTouchPoints","disableTouchKeyboard","detach","forceParse","setValue","destroy","datepicker","evt","dateString","originalEvent","clipboardData","types","getData","setDate","preventDefault","utc","getTimezoneOffset","local","_zero_utc_time","getDates","getUTCDates","selected_date","clearDates","autoclose","setDates","args","setUTCDates","setUTCDate","formatted","getFormattedDate","join","getStartDate","updateNavArrows","getEndDate","calendarWidth","outerWidth","calendarHeight","outerHeight","visualPadding","windowWidth","width","scrollTop","appendOffset","offset","parentsZindex","parents","each","itemZIndex","css","zIndex","zIndexOffset","parent","height","left","top","removeClass","yorient","top_overflow","right","oldDates","fromArgs","dateWithinRange","fill","change","dowCnt","daysMin","append","localDate","focused","monthsShort","setRange","range","getClassNames","cls","todayHighlight","dateIsDisabled","getUTCDay","_fill_yearsView","selector","cssClass","factor","step","currentYear","startYear","endYear","callback","steps","startStep","endStep","thisYear","classes","tooltip","before","text","noop","enabled","concat","startMonth","endMonth","todaytxt","cleartxt","titleFormat","toggle","todayBtn","clearBtn","title","prevMonth","getDaysInMonth","nextMonth","setUTCFullYear","clsName","ws","th","yth","calWeek","beforeShowDay","isFunction","uniqueSort","unique","empty","monthsTitle","months","end","eq","beforeShowMonth","that","moDate","beforeShowYear","beforeShowDecade","beforeShowCentury","visibility","stopPropagation","dir","monthChanged","yearChanged","navArrow","closest","modes","navStep","moveMonth","moveYear","_setDate","index","setUTCMonth","_toggle_multidate","toggleActive","which","moveDay","newDate","moveWeek","new_date","mag","abs","new_month","moveAvailableDate","fn","weekOfDateIsDisabled","dateChanged","newViewDate","keyboardNavigation","ctrlKey","shiftKey","children","filter","DateRangePicker","inputs","jquery","datepickerPlugin","call","dateUpdated","pickers","updateDates","updateRanges","p","updating","dp","j","k","opts_from_el","prefix","out","inkey","RegExp","re_lower","_","key","opts_from_locale","locale_opts","old","option","Array","shift","internal_return","$this","elopts","xopts","locopts","toArray","Error","Constructor","en","days","daysShort","navFnc","isLeapYear","validParts","nonpunctuation","toValue","toDisplay","separators","parts","assumeNearby","part_re","fn_map","m","w","dateAliases","yesterday","tomorrow","part","exec","applyNearbyYear","threshold","parsed","setters_order","setters_map","yyyy","v","yy","filtered","fparts","match_part","cnt","_date","s","D","DD","M","MM","toString","substring","dd","mm","seps","headTemplate","contTemplate","footTemplate","noConflict","version"],"mappings":"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","sourcesContent":["/*!\n * Datepicker for Bootstrap v1.6.4 (https://github.com/eternicode/bootstrap-datepicker)\n *\n * Copyright 2012 Stefan Petre\n * Improvements by Andrew Rowls\n * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)\n */(function(factory){\n    if (typeof define === \"function\" && define.amd) {\n        define([\"jquery\"], factory);\n    } else if (typeof exports === 'object') {\n        factory(require('jquery'));\n    } else {\n        factory(jQuery);\n    }\n}(function($, undefined){\n\n\tfunction UTCDate(){\n\t\treturn new Date(Date.UTC.apply(Date, arguments));\n\t}\n\tfunction UTCToday(){\n\t\tvar today = new Date();\n\t\treturn UTCDate(today.getFullYear(), today.getMonth(), today.getDate());\n\t}\n\tfunction isUTCEquals(date1, date2) {\n\t\treturn (\n\t\t\tdate1.getUTCFullYear() === date2.getUTCFullYear() &&\n\t\t\tdate1.getUTCMonth() === date2.getUTCMonth() &&\n\t\t\tdate1.getUTCDate() === date2.getUTCDate()\n\t\t);\n\t}\n\tfunction alias(method){\n\t\treturn function(){\n\t\t\treturn this[method].apply(this, arguments);\n\t\t};\n\t}\n\tfunction isValidDate(d) {\n\t\treturn d && !isNaN(d.getTime());\n\t}\n\n\tvar DateArray = (function(){\n\t\tvar extras = {\n\t\t\tget: function(i){\n\t\t\t\treturn this.slice(i)[0];\n\t\t\t},\n\t\t\tcontains: function(d){\n\t\t\t\t// Array.indexOf is not cross-browser;\n\t\t\t\t// $.inArray doesn't work with Dates\n\t\t\t\tvar val = d && d.valueOf();\n\t\t\t\tfor (var i=0, l=this.length; i < l; i++)\n\t\t\t\t\tif (this[i].valueOf() === val)\n\t\t\t\t\t\treturn i;\n\t\t\t\treturn -1;\n\t\t\t},\n\t\t\tremove: function(i){\n\t\t\t\tthis.splice(i,1);\n\t\t\t},\n\t\t\treplace: function(new_array){\n\t\t\t\tif (!new_array)\n\t\t\t\t\treturn;\n\t\t\t\tif (!$.isArray(new_array))\n\t\t\t\t\tnew_array = [new_array];\n\t\t\t\tthis.clear();\n\t\t\t\tthis.push.apply(this, new_array);\n\t\t\t},\n\t\t\tclear: function(){\n\t\t\t\tthis.length = 0;\n\t\t\t},\n\t\t\tcopy: function(){\n\t\t\t\tvar a = new DateArray();\n\t\t\t\ta.replace(this);\n\t\t\t\treturn a;\n\t\t\t}\n\t\t};\n\n\t\treturn function(){\n\t\t\tvar a = [];\n\t\t\ta.push.apply(a, arguments);\n\t\t\t$.extend(a, extras);\n\t\t\treturn a;\n\t\t};\n\t})();\n\n\n\t// Picker object\n\n\tvar Datepicker = function(element, options){\n\t\t$(element).data('datepicker', this);\n\t\tthis._process_options(options);\n\n\t\tthis.dates = new DateArray();\n\t\tthis.viewDate = this.o.defaultViewDate;\n\t\tthis.focusDate = null;\n\n\t\tthis.element = $(element);\n\t\tthis.isInput = this.element.is('input');\n\t\tthis.inputField = this.isInput ? this.element : this.element.find('input');\n\t\tthis.component = this.element.hasClass('date') ? this.element.find('.add-on, .input-group-addon, .btn') : false;\n\t\tthis.hasInput = this.component && this.inputField.length;\n\t\tif (this.component && this.component.length === 0)\n\t\t\tthis.component = false;\n\t\tthis.isInline = !this.component && this.element.is('div');\n\n\t\tthis.picker = $(DPGlobal.template);\n\n\t\t// Checking templates and inserting\n\t\tif (this._check_template(this.o.templates.leftArrow)) {\n\t\t\tthis.picker.find('.prev').html(this.o.templates.leftArrow);\n\t\t}\n\t\tif (this._check_template(this.o.templates.rightArrow)) {\n\t\t\tthis.picker.find('.next').html(this.o.templates.rightArrow);\n\t\t}\n\n\t\tthis._buildEvents();\n\t\tthis._attachEvents();\n\n\t\tif (this.isInline){\n\t\t\tthis.picker.addClass('datepicker-inline').appendTo(this.element);\n\t\t}\n\t\telse {\n\t\t\tthis.picker.addClass('datepicker-dropdown dropdown-menu');\n\t\t}\n\n\t\tif (this.o.rtl){\n\t\t\tthis.picker.addClass('datepicker-rtl');\n\t\t}\n\n\t\tthis.viewMode = this.o.startView;\n\n\t\tif (this.o.calendarWeeks)\n\t\t\tthis.picker.find('thead .datepicker-title, tfoot .today, tfoot .clear')\n\t\t\t\t\t\t.attr('colspan', function(i, val){\n\t\t\t\t\t\t\treturn parseInt(val) + 1;\n\t\t\t\t\t\t});\n\n\t\tthis._allow_update = false;\n\n\t\tthis.setStartDate(this._o.startDate);\n\t\tthis.setEndDate(this._o.endDate);\n\t\tthis.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);\n\t\tthis.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);\n\t\tthis.setDatesDisabled(this.o.datesDisabled);\n\n\t\tthis.fillDow();\n\t\tthis.fillMonths();\n\n\t\tthis._allow_update = true;\n\n\t\tthis.update();\n\t\tthis.showMode();\n\n\t\tif (this.isInline){\n\t\t\tthis.show();\n\t\t}\n\t};\n\n\tDatepicker.prototype = {\n\t\tconstructor: Datepicker,\n\n\t\t_resolveViewName: function(view, default_value){\n\t\t\tif (view === 0 || view === 'days' || view === 'month') {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (view === 1 || view === 'months' || view === 'year') {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (view === 2 || view === 'years' || view === 'decade') {\n\t\t\t\treturn 2;\n\t\t\t}\n\t\t\tif (view === 3 || view === 'decades' || view === 'century') {\n\t\t\t\treturn 3;\n\t\t\t}\n\t\t\tif (view === 4 || view === 'centuries' || view === 'millennium') {\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t\treturn default_value === undefined ? false : default_value;\n\t\t},\n\n\t\t_check_template: function(tmp){\n\t\t\ttry {\n\t\t\t\t// If empty\n\t\t\t\tif (tmp === undefined || tmp === \"\") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// If no html, everything ok\n\t\t\t\tif ((tmp.match(/[<>]/g) || []).length <= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// Checking if html is fine\n\t\t\t\tvar jDom = $(tmp);\n\t\t\t\treturn jDom.length > 0;\n\t\t\t}\n\t\t\tcatch (ex) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t_process_options: function(opts){\n\t\t\t// Store raw options for reference\n\t\t\tthis._o = $.extend({}, this._o, opts);\n\t\t\t// Processed options\n\t\t\tvar o = this.o = $.extend({}, this._o);\n\n\t\t\t// Check if \"de-DE\" style date is available, if not language should\n\t\t\t// fallback to 2 letter code eg \"de\"\n\t\t\tvar lang = o.language;\n\t\t\tif (!dates[lang]){\n\t\t\t\tlang = lang.split('-')[0];\n\t\t\t\tif (!dates[lang])\n\t\t\t\t\tlang = defaults.language;\n\t\t\t}\n\t\t\to.language = lang;\n\n\t\t\t// Retrieve view index from any aliases\n\t\t\to.startView = this._resolveViewName(o.startView, 0);\n\t\t\to.minViewMode = this._resolveViewName(o.minViewMode, 0);\n\t\t\to.maxViewMode = this._resolveViewName(o.maxViewMode, 4);\n\n\t\t\t// Check that the start view is between min and max\n\t\t\to.startView = Math.min(o.startView, o.maxViewMode);\n\t\t\to.startView = Math.max(o.startView, o.minViewMode);\n\n\t\t\t// true, false, or Number > 0\n\t\t\tif (o.multidate !== true){\n\t\t\t\to.multidate = Number(o.multidate) || false;\n\t\t\t\tif (o.multidate !== false)\n\t\t\t\t\to.multidate = Math.max(0, o.multidate);\n\t\t\t}\n\t\t\to.multidateSeparator = String(o.multidateSeparator);\n\n\t\t\to.weekStart %= 7;\n\t\t\to.weekEnd = (o.weekStart + 6) % 7;\n\n\t\t\tvar format = DPGlobal.parseFormat(o.format);\n\t\t\tif (o.startDate !== -Infinity){\n\t\t\t\tif (!!o.startDate){\n\t\t\t\t\tif (o.startDate instanceof Date)\n\t\t\t\t\t\to.startDate = this._local_to_utc(this._zero_time(o.startDate));\n\t\t\t\t\telse\n\t\t\t\t\t\to.startDate = DPGlobal.parseDate(o.startDate, format, o.language, o.assumeNearbyYear);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\to.startDate = -Infinity;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (o.endDate !== Infinity){\n\t\t\t\tif (!!o.endDate){\n\t\t\t\t\tif (o.endDate instanceof Date)\n\t\t\t\t\t\to.endDate = this._local_to_utc(this._zero_time(o.endDate));\n\t\t\t\t\telse\n\t\t\t\t\t\to.endDate = DPGlobal.parseDate(o.endDate, format, o.language, o.assumeNearbyYear);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\to.endDate = Infinity;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\to.daysOfWeekDisabled = o.daysOfWeekDisabled||[];\n\t\t\tif (!$.isArray(o.daysOfWeekDisabled))\n\t\t\t\to.daysOfWeekDisabled = o.daysOfWeekDisabled.split(/[,\\s]*/);\n\t\t\to.daysOfWeekDisabled = $.map(o.daysOfWeekDisabled, function(d){\n\t\t\t\treturn parseInt(d, 10);\n\t\t\t});\n\n\t\t\to.daysOfWeekHighlighted = o.daysOfWeekHighlighted||[];\n\t\t\tif (!$.isArray(o.daysOfWeekHighlighted))\n\t\t\t\to.daysOfWeekHighlighted = o.daysOfWeekHighlighted.split(/[,\\s]*/);\n\t\t\to.daysOfWeekHighlighted = $.map(o.daysOfWeekHighlighted, function(d){\n\t\t\t\treturn parseInt(d, 10);\n\t\t\t});\n\n\t\t\to.datesDisabled = o.datesDisabled||[];\n\t\t\tif (!$.isArray(o.datesDisabled)) {\n\t\t\t\to.datesDisabled = [\n\t\t\t\t\to.datesDisabled\n\t\t\t\t];\n\t\t\t}\n\t\t\to.datesDisabled = $.map(o.datesDisabled,function(d){\n\t\t\t\treturn DPGlobal.parseDate(d, format, o.language, o.assumeNearbyYear);\n\t\t\t});\n\n\t\t\tvar plc = String(o.orientation).toLowerCase().split(/\\s+/g),\n\t\t\t\t_plc = o.orientation.toLowerCase();\n\t\t\tplc = $.grep(plc, function(word){\n\t\t\t\treturn /^auto|left|right|top|bottom$/.test(word);\n\t\t\t});\n\t\t\to.orientation = {x: 'auto', y: 'auto'};\n\t\t\tif (!_plc || _plc === 'auto')\n\t\t\t\t; // no action\n\t\t\telse if (plc.length === 1){\n\t\t\t\tswitch (plc[0]){\n\t\t\t\t\tcase 'top':\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\to.orientation.y = plc[0];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'left':\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\to.orientation.x = plc[0];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_plc = $.grep(plc, function(word){\n\t\t\t\t\treturn /^left|right$/.test(word);\n\t\t\t\t});\n\t\t\t\to.orientation.x = _plc[0] || 'auto';\n\n\t\t\t\t_plc = $.grep(plc, function(word){\n\t\t\t\t\treturn /^top|bottom$/.test(word);\n\t\t\t\t});\n\t\t\t\to.orientation.y = _plc[0] || 'auto';\n\t\t\t}\n\t\t\tif (o.defaultViewDate) {\n\t\t\t\tvar year = o.defaultViewDate.year || new Date().getFullYear();\n\t\t\t\tvar month = o.defaultViewDate.month || 0;\n\t\t\t\tvar day = o.defaultViewDate.day || 1;\n\t\t\t\to.defaultViewDate = UTCDate(year, month, day);\n\t\t\t} else {\n\t\t\t\to.defaultViewDate = UTCToday();\n\t\t\t}\n\t\t},\n\t\t_events: [],\n\t\t_secondaryEvents: [],\n\t\t_applyEvents: function(evs){\n\t\t\tfor (var i=0, el, ch, ev; i < evs.length; i++){\n\t\t\t\tel = evs[i][0];\n\t\t\t\tif (evs[i].length === 2){\n\t\t\t\t\tch = undefined;\n\t\t\t\t\tev = evs[i][1];\n\t\t\t\t}\n\t\t\t\telse if (evs[i].length === 3){\n\t\t\t\t\tch = evs[i][1];\n\t\t\t\t\tev = evs[i][2];\n\t\t\t\t}\n\t\t\t\tel.on(ev, ch);\n\t\t\t}\n\t\t},\n\t\t_unapplyEvents: function(evs){\n\t\t\tfor (var i=0, el, ev, ch; i < evs.length; i++){\n\t\t\t\tel = evs[i][0];\n\t\t\t\tif (evs[i].length === 2){\n\t\t\t\t\tch = undefined;\n\t\t\t\t\tev = evs[i][1];\n\t\t\t\t}\n\t\t\t\telse if (evs[i].length === 3){\n\t\t\t\t\tch = evs[i][1];\n\t\t\t\t\tev = evs[i][2];\n\t\t\t\t}\n\t\t\t\tel.off(ev, ch);\n\t\t\t}\n\t\t},\n\t\t_buildEvents: function(){\n            var events = {\n                keyup: $.proxy(function(e){\n                    if ($.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) === -1)\n                        this.update();\n                }, this),\n                keydown: $.proxy(this.keydown, this),\n                paste: $.proxy(this.paste, this)\n            };\n\n            if (this.o.showOnFocus === true) {\n                events.focus = $.proxy(this.show, this);\n            }\n\n            if (this.isInput) { // single input\n                this._events = [\n                    [this.element, events]\n                ];\n            }\n            else if (this.component && this.hasInput) { // component: input + button\n                this._events = [\n                    // For components that are not readonly, allow keyboard nav\n                    [this.inputField, events],\n                    [this.component, {\n                        click: $.proxy(this.show, this)\n                    }]\n                ];\n            }\n\t\t\telse {\n\t\t\t\tthis._events = [\n\t\t\t\t\t[this.element, {\n\t\t\t\t\t\tclick: $.proxy(this.show, this),\n\t\t\t\t\t\tkeydown: $.proxy(this.keydown, this)\n\t\t\t\t\t}]\n\t\t\t\t];\n\t\t\t}\n\t\t\tthis._events.push(\n\t\t\t\t// Component: listen for blur on element descendants\n\t\t\t\t[this.element, '*', {\n\t\t\t\t\tblur: $.proxy(function(e){\n\t\t\t\t\t\tthis._focused_from = e.target;\n\t\t\t\t\t}, this)\n\t\t\t\t}],\n\t\t\t\t// Input: listen for blur on element\n\t\t\t\t[this.element, {\n\t\t\t\t\tblur: $.proxy(function(e){\n\t\t\t\t\t\tthis._focused_from = e.target;\n\t\t\t\t\t}, this)\n\t\t\t\t}]\n\t\t\t);\n\n\t\t\tif (this.o.immediateUpdates) {\n\t\t\t\t// Trigger input updates immediately on changed year/month\n\t\t\t\tthis._events.push([this.element, {\n\t\t\t\t\t'changeYear changeMonth': $.proxy(function(e){\n\t\t\t\t\t\tthis.update(e.date);\n\t\t\t\t\t}, this)\n\t\t\t\t}]);\n\t\t\t}\n\n\t\t\tthis._secondaryEvents = [\n\t\t\t\t[this.picker, {\n\t\t\t\t\tclick: $.proxy(this.click, this)\n\t\t\t\t}],\n\t\t\t\t[$(window), {\n\t\t\t\t\tresize: $.proxy(this.place, this)\n\t\t\t\t}],\n\t\t\t\t[$(document), {\n\t\t\t\t\tmousedown: $.proxy(function(e){\n\t\t\t\t\t\t// Clicked outside the datepicker, hide it\n\t\t\t\t\t\tif (!(\n\t\t\t\t\t\t\tthis.element.is(e.target) ||\n\t\t\t\t\t\t\tthis.element.find(e.target).length ||\n\t\t\t\t\t\t\tthis.picker.is(e.target) ||\n\t\t\t\t\t\t\tthis.picker.find(e.target).length ||\n\t\t\t\t\t\t\tthis.isInline\n\t\t\t\t\t\t)){\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this)\n\t\t\t\t}]\n\t\t\t];\n\t\t},\n\t\t_attachEvents: function(){\n\t\t\tthis._detachEvents();\n\t\t\tthis._applyEvents(this._events);\n\t\t},\n\t\t_detachEvents: function(){\n\t\t\tthis._unapplyEvents(this._events);\n\t\t},\n\t\t_attachSecondaryEvents: function(){\n\t\t\tthis._detachSecondaryEvents();\n\t\t\tthis._applyEvents(this._secondaryEvents);\n\t\t},\n\t\t_detachSecondaryEvents: function(){\n\t\t\tthis._unapplyEvents(this._secondaryEvents);\n\t\t},\n\t\t_trigger: function(event, altdate){\n\t\t\tvar date = altdate || this.dates.get(-1),\n\t\t\t\tlocal_date = this._utc_to_local(date);\n\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: event,\n\t\t\t\tdate: local_date,\n\t\t\t\tdates: $.map(this.dates, this._utc_to_local),\n\t\t\t\tformat: $.proxy(function(ix, format){\n\t\t\t\t\tif (arguments.length === 0){\n\t\t\t\t\t\tix = this.dates.length - 1;\n\t\t\t\t\t\tformat = this.o.format;\n\t\t\t\t\t}\n\t\t\t\t\telse if (typeof ix === 'string'){\n\t\t\t\t\t\tformat = ix;\n\t\t\t\t\t\tix = this.dates.length - 1;\n\t\t\t\t\t}\n\t\t\t\t\tformat = format || this.o.format;\n\t\t\t\t\tvar date = this.dates.get(ix);\n\t\t\t\t\treturn DPGlobal.formatDate(date, format, this.o.language);\n\t\t\t\t}, this)\n\t\t\t});\n\t\t},\n\n\t\tshow: function(){\n\t\t\tif (this.inputField.prop('disabled') || (this.inputField.prop('readonly') && this.o.enableOnReadonly === false))\n\t\t\t\treturn;\n\t\t\tif (!this.isInline)\n\t\t\t\tthis.picker.appendTo(this.o.container);\n\t\t\tthis.place();\n\t\t\tthis.picker.show();\n\t\t\tthis._attachSecondaryEvents();\n\t\t\tthis._trigger('show');\n\t\t\tif ((window.navigator.msMaxTouchPoints || 'ontouchstart' in document) && this.o.disableTouchKeyboard) {\n\t\t\t\t$(this.element).blur();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\thide: function(){\n\t\t\tif (this.isInline || !this.picker.is(':visible'))\n\t\t\t\treturn this;\n\t\t\tthis.focusDate = null;\n\t\t\tthis.picker.hide().detach();\n\t\t\tthis._detachSecondaryEvents();\n\t\t\tthis.viewMode = this.o.startView;\n\t\t\tthis.showMode();\n\n\t\t\tif (this.o.forceParse && this.inputField.val())\n\t\t\t\tthis.setValue();\n\t\t\tthis._trigger('hide');\n\t\t\treturn this;\n\t\t},\n\n\t\tdestroy: function(){\n\t\t\tthis.hide();\n\t\t\tthis._detachEvents();\n\t\t\tthis._detachSecondaryEvents();\n\t\t\tthis.picker.remove();\n\t\t\tdelete this.element.data().datepicker;\n\t\t\tif (!this.isInput){\n\t\t\t\tdelete this.element.data().date;\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tpaste: function(evt){\n\t\t\tvar dateString;\n\t\t\tif (evt.originalEvent.clipboardData && evt.originalEvent.clipboardData.types\n\t\t\t\t&& $.inArray('text/plain', evt.originalEvent.clipboardData.types) !== -1) {\n\t\t\t\tdateString = evt.originalEvent.clipboardData.getData('text/plain');\n\t\t\t}\n\t\t\telse if (window.clipboardData) {\n\t\t\t\tdateString = window.clipboardData.getData('Text');\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.setDate(dateString);\n\t\t\tthis.update();\n\t\t\tevt.preventDefault();\n\t\t},\n\n\t\t_utc_to_local: function(utc){\n\t\t\treturn utc && new Date(utc.getTime() + (utc.getTimezoneOffset()*60000));\n\t\t},\n\t\t_local_to_utc: function(local){\n\t\t\treturn local && new Date(local.getTime() - (local.getTimezoneOffset()*60000));\n\t\t},\n\t\t_zero_time: function(local){\n\t\t\treturn local && new Date(local.getFullYear(), local.getMonth(), local.getDate());\n\t\t},\n\t\t_zero_utc_time: function(utc){\n\t\t\treturn utc && new Date(Date.UTC(utc.getUTCFullYear(), utc.getUTCMonth(), utc.getUTCDate()));\n\t\t},\n\n\t\tgetDates: function(){\n\t\t\treturn $.map(this.dates, this._utc_to_local);\n\t\t},\n\n\t\tgetUTCDates: function(){\n\t\t\treturn $.map(this.dates, function(d){\n\t\t\t\treturn new Date(d);\n\t\t\t});\n\t\t},\n\n\t\tgetDate: function(){\n\t\t\treturn this._utc_to_local(this.getUTCDate());\n\t\t},\n\n\t\tgetUTCDate: function(){\n\t\t\tvar selected_date = this.dates.get(-1);\n\t\t\tif (typeof selected_date !== 'undefined') {\n\t\t\t\treturn new Date(selected_date);\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\tclearDates: function(){\n\t\t\tif (this.inputField) {\n\t\t\t\tthis.inputField.val('');\n\t\t\t}\n\n\t\t\tthis.update();\n\t\t\tthis._trigger('changeDate');\n\n\t\t\tif (this.o.autoclose) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t},\n\t\tsetDates: function(){\n\t\t\tvar args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n\t\t\tthis.update.apply(this, args);\n\t\t\tthis._trigger('changeDate');\n\t\t\tthis.setValue();\n\t\t\treturn this;\n\t\t},\n\n\t\tsetUTCDates: function(){\n\t\t\tvar args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n\t\t\tthis.update.apply(this, $.map(args, this._utc_to_local));\n\t\t\tthis._trigger('changeDate');\n\t\t\tthis.setValue();\n\t\t\treturn this;\n\t\t},\n\n\t\tsetDate: alias('setDates'),\n\t\tsetUTCDate: alias('setUTCDates'),\n\t\tremove: alias('destroy'),\n\n\t\tsetValue: function(){\n\t\t\tvar formatted = this.getFormattedDate();\n\t\t\tthis.inputField.val(formatted);\n\t\t\treturn this;\n\t\t},\n\n\t\tgetFormattedDate: function(format){\n\t\t\tif (format === undefined)\n\t\t\t\tformat = this.o.format;\n\n\t\t\tvar lang = this.o.language;\n\t\t\treturn $.map(this.dates, function(d){\n\t\t\t\treturn DPGlobal.formatDate(d, format, lang);\n\t\t\t}).join(this.o.multidateSeparator);\n\t\t},\n\n\t\tgetStartDate: function(){\n\t\t\treturn this.o.startDate;\n\t\t},\n\n\t\tsetStartDate: function(startDate){\n\t\t\tthis._process_options({startDate: startDate});\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t\treturn this;\n\t\t},\n\n\t\tgetEndDate: function(){\n\t\t\treturn this.o.endDate;\n\t\t},\n\n\t\tsetEndDate: function(endDate){\n\t\t\tthis._process_options({endDate: endDate});\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t\treturn this;\n\t\t},\n\n\t\tsetDaysOfWeekDisabled: function(daysOfWeekDisabled){\n\t\t\tthis._process_options({daysOfWeekDisabled: daysOfWeekDisabled});\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t\treturn this;\n\t\t},\n\n\t\tsetDaysOfWeekHighlighted: function(daysOfWeekHighlighted){\n\t\t\tthis._process_options({daysOfWeekHighlighted: daysOfWeekHighlighted});\n\t\t\tthis.update();\n\t\t\treturn this;\n\t\t},\n\n\t\tsetDatesDisabled: function(datesDisabled){\n\t\t\tthis._process_options({datesDisabled: datesDisabled});\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t},\n\n\t\tplace: function(){\n\t\t\tif (this.isInline)\n\t\t\t\treturn this;\n\t\t\tvar calendarWidth = this.picker.outerWidth(),\n\t\t\t\tcalendarHeight = this.picker.outerHeight(),\n\t\t\t\tvisualPadding = 10,\n\t\t\t\tcontainer = $(this.o.container),\n\t\t\t\twindowWidth = container.width(),\n\t\t\t\tscrollTop = this.o.container === 'body' ? $(document).scrollTop() : container.scrollTop(),\n\t\t\t\tappendOffset = container.offset();\n\n\t\t\tvar parentsZindex = [];\n\t\t\tthis.element.parents().each(function(){\n\t\t\t\tvar itemZIndex = $(this).css('z-index');\n\t\t\t\tif (itemZIndex !== 'auto' && itemZIndex !== 0) parentsZindex.push(parseInt(itemZIndex));\n\t\t\t});\n\t\t\tvar zIndex = Math.max.apply(Math, parentsZindex) + this.o.zIndexOffset;\n\t\t\tvar offset = this.component ? this.component.parent().offset() : this.element.offset();\n\t\t\tvar height = this.component ? this.component.outerHeight(true) : this.element.outerHeight(false);\n\t\t\tvar width = this.component ? this.component.outerWidth(true) : this.element.outerWidth(false);\n\t\t\tvar left = offset.left - appendOffset.left,\n\t\t\t\ttop = offset.top - appendOffset.top;\n\n\t\t\tif (this.o.container !== 'body') {\n\t\t\t\ttop += scrollTop;\n\t\t\t}\n\n\t\t\tthis.picker.removeClass(\n\t\t\t\t'datepicker-orient-top datepicker-orient-bottom '+\n\t\t\t\t'datepicker-orient-right datepicker-orient-left'\n\t\t\t);\n\n\t\t\tif (this.o.orientation.x !== 'auto'){\n\t\t\t\tthis.picker.addClass('datepicker-orient-' + this.o.orientation.x);\n\t\t\t\tif (this.o.orientation.x === 'right')\n\t\t\t\t\tleft -= calendarWidth - width;\n\t\t\t}\n\t\t\t// auto x orientation is best-placement: if it crosses a window\n\t\t\t// edge, fudge it sideways\n\t\t\telse {\n\t\t\t\tif (offset.left < 0) {\n\t\t\t\t\t// component is outside the window on the left side. Move it into visible range\n\t\t\t\t\tthis.picker.addClass('datepicker-orient-left');\n\t\t\t\t\tleft -= offset.left - visualPadding;\n\t\t\t\t} else if (left + calendarWidth > windowWidth) {\n\t\t\t\t\t// the calendar passes the widow right edge. Align it to component right side\n\t\t\t\t\tthis.picker.addClass('datepicker-orient-right');\n\t\t\t\t\tleft += width - calendarWidth;\n\t\t\t\t} else {\n\t\t\t\t\t// Default to left\n\t\t\t\t\tthis.picker.addClass('datepicker-orient-left');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// auto y orientation is best-situation: top or bottom, no fudging,\n\t\t\t// decision based on which shows more of the calendar\n\t\t\tvar yorient = this.o.orientation.y,\n\t\t\t\ttop_overflow;\n\t\t\tif (yorient === 'auto'){\n\t\t\t\ttop_overflow = -scrollTop + top - calendarHeight;\n\t\t\t\tyorient = top_overflow < 0 ? 'bottom' : 'top';\n\t\t\t}\n\n\t\t\tthis.picker.addClass('datepicker-orient-' + yorient);\n\t\t\tif (yorient === 'top')\n\t\t\t\ttop -= calendarHeight + parseInt(this.picker.css('padding-top'));\n\t\t\telse\n\t\t\t\ttop += height;\n\n\t\t\tif (this.o.rtl) {\n\t\t\t\tvar right = windowWidth - (left + width);\n\t\t\t\tthis.picker.css({\n\t\t\t\t\ttop: top,\n\t\t\t\t\tright: right,\n\t\t\t\t\tzIndex: zIndex\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.picker.css({\n\t\t\t\t\ttop: top,\n\t\t\t\t\tleft: left,\n\t\t\t\t\tzIndex: zIndex\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\t_allow_update: true,\n\t\tupdate: function(){\n\t\t\tif (!this._allow_update)\n\t\t\t\treturn this;\n\n\t\t\tvar oldDates = this.dates.copy(),\n\t\t\t\tdates = [],\n\t\t\t\tfromArgs = false;\n\t\t\tif (arguments.length){\n\t\t\t\t$.each(arguments, $.proxy(function(i, date){\n\t\t\t\t\tif (date instanceof Date)\n\t\t\t\t\t\tdate = this._local_to_utc(date);\n\t\t\t\t\tdates.push(date);\n\t\t\t\t}, this));\n\t\t\t\tfromArgs = true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdates = this.isInput\n\t\t\t\t\t\t? this.element.val()\n\t\t\t\t\t\t: this.element.data('date') || this.inputField.val();\n\t\t\t\tif (dates && this.o.multidate)\n\t\t\t\t\tdates = dates.split(this.o.multidateSeparator);\n\t\t\t\telse\n\t\t\t\t\tdates = [dates];\n\t\t\t\tdelete this.element.data().date;\n\t\t\t}\n\n\t\t\tdates = $.map(dates, $.proxy(function(date){\n\t\t\t\treturn DPGlobal.parseDate(date, this.o.format, this.o.language, this.o.assumeNearbyYear);\n\t\t\t}, this));\n\t\t\tdates = $.grep(dates, $.proxy(function(date){\n\t\t\t\treturn (\n\t\t\t\t\t!this.dateWithinRange(date) ||\n\t\t\t\t\t!date\n\t\t\t\t);\n\t\t\t}, this), true);\n\t\t\tthis.dates.replace(dates);\n\n\t\t\tif (this.dates.length)\n\t\t\t\tthis.viewDate = new Date(this.dates.get(-1));\n\t\t\telse if (this.viewDate < this.o.startDate)\n\t\t\t\tthis.viewDate = new Date(this.o.startDate);\n\t\t\telse if (this.viewDate > this.o.endDate)\n\t\t\t\tthis.viewDate = new Date(this.o.endDate);\n\t\t\telse\n\t\t\t\tthis.viewDate = this.o.defaultViewDate;\n\n\t\t\tif (fromArgs){\n\t\t\t\t// setting date by clicking\n\t\t\t\tthis.setValue();\n\t\t\t}\n\t\t\telse if (dates.length){\n\t\t\t\t// setting date by typing\n\t\t\t\tif (String(oldDates) !== String(this.dates))\n\t\t\t\t\tthis._trigger('changeDate');\n\t\t\t}\n\t\t\tif (!this.dates.length && oldDates.length)\n\t\t\t\tthis._trigger('clearDate');\n\n\t\t\tthis.fill();\n\t\t\tthis.element.change();\n\t\t\treturn this;\n\t\t},\n\n\t\tfillDow: function(){\n\t\t\tvar dowCnt = this.o.weekStart,\n\t\t\t\thtml = '<tr>';\n\t\t\tif (this.o.calendarWeeks){\n\t\t\t\tthis.picker.find('.datepicker-days .datepicker-switch')\n\t\t\t\t\t.attr('colspan', function(i, val){\n\t\t\t\t\t\treturn parseInt(val) + 1;\n\t\t\t\t\t});\n\t\t\t\thtml += '<th class=\"cw\">&#160;</th>';\n\t\t\t}\n\t\t\twhile (dowCnt < this.o.weekStart + 7){\n\t\t\t\thtml += '<th class=\"dow';\n        if ($.inArray(dowCnt, this.o.daysOfWeekDisabled) > -1)\n          html += ' disabled';\n        html += '\">'+dates[this.o.language].daysMin[(dowCnt++)%7]+'</th>';\n\t\t\t}\n\t\t\thtml += '</tr>';\n\t\t\tthis.picker.find('.datepicker-days thead').append(html);\n\t\t},\n\n\t\tfillMonths: function(){\n      var localDate = this._utc_to_local(this.viewDate);\n\t\t\tvar html = '',\n\t\t\ti = 0;\n\t\t\twhile (i < 12){\n        var focused = localDate && localDate.getMonth() === i ? ' focused' : '';\n\t\t\t\thtml += '<span class=\"month' + focused + '\">' + dates[this.o.language].monthsShort[i++]+'</span>';\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-months td').html(html);\n\t\t},\n\n\t\tsetRange: function(range){\n\t\t\tif (!range || !range.length)\n\t\t\t\tdelete this.range;\n\t\t\telse\n\t\t\t\tthis.range = $.map(range, function(d){\n\t\t\t\t\treturn d.valueOf();\n\t\t\t\t});\n\t\t\tthis.fill();\n\t\t},\n\n\t\tgetClassNames: function(date){\n\t\t\tvar cls = [],\n\t\t\t\tyear = this.viewDate.getUTCFullYear(),\n\t\t\t\tmonth = this.viewDate.getUTCMonth(),\n\t\t\t\ttoday = new Date();\n\t\t\tif (date.getUTCFullYear() < year || (date.getUTCFullYear() === year && date.getUTCMonth() < month)){\n\t\t\t\tcls.push('old');\n\t\t\t}\n\t\t\telse if (date.getUTCFullYear() > year || (date.getUTCFullYear() === year && date.getUTCMonth() > month)){\n\t\t\t\tcls.push('new');\n\t\t\t}\n\t\t\tif (this.focusDate && date.valueOf() === this.focusDate.valueOf())\n\t\t\t\tcls.push('focused');\n\t\t\t// Compare internal UTC date with local today, not UTC today\n\t\t\tif (this.o.todayHighlight &&\n\t\t\t\tdate.getUTCFullYear() === today.getFullYear() &&\n\t\t\t\tdate.getUTCMonth() === today.getMonth() &&\n\t\t\t\tdate.getUTCDate() === today.getDate()){\n\t\t\t\tcls.push('today');\n\t\t\t}\n\t\t\tif (this.dates.contains(date) !== -1)\n\t\t\t\tcls.push('active');\n\t\t\tif (!this.dateWithinRange(date)){\n\t\t\t\tcls.push('disabled');\n\t\t\t}\n\t\t\tif (this.dateIsDisabled(date)){\n\t\t\t\tcls.push('disabled', 'disabled-date');\n\t\t\t}\n\t\t\tif ($.inArray(date.getUTCDay(), this.o.daysOfWeekHighlighted) !== -1){\n\t\t\t\tcls.push('highlighted');\n\t\t\t}\n\n\t\t\tif (this.range){\n\t\t\t\tif (date > this.range[0] && date < this.range[this.range.length-1]){\n\t\t\t\t\tcls.push('range');\n\t\t\t\t}\n\t\t\t\tif ($.inArray(date.valueOf(), this.range) !== -1){\n\t\t\t\t\tcls.push('selected');\n\t\t\t\t}\n\t\t\t\tif (date.valueOf() === this.range[0]){\n          cls.push('range-start');\n        }\n        if (date.valueOf() === this.range[this.range.length-1]){\n          cls.push('range-end');\n        }\n\t\t\t}\n\t\t\treturn cls;\n\t\t},\n\n\t\t_fill_yearsView: function(selector, cssClass, factor, step, currentYear, startYear, endYear, callback){\n\t\t\tvar html, view, year, steps, startStep, endStep, thisYear, i, classes, tooltip, before;\n\n\t\t\thtml      = '';\n\t\t\tview      = this.picker.find(selector);\n\t\t\tyear      = parseInt(currentYear / factor, 10) * factor;\n\t\t\tstartStep = parseInt(startYear / step, 10) * step;\n\t\t\tendStep   = parseInt(endYear / step, 10) * step;\n\t\t\tsteps     = $.map(this.dates, function(d){\n\t\t\t\treturn parseInt(d.getUTCFullYear() / step, 10) * step;\n\t\t\t});\n\n\t\t\tview.find('.datepicker-switch').text(year + '-' + (year + step * 9));\n\n\t\t\tthisYear = year - step;\n\t\t\tfor (i = -1; i < 11; i += 1) {\n\t\t\t\tclasses = [cssClass];\n\t\t\t\ttooltip = null;\n\n\t\t\t\tif (i === -1) {\n\t\t\t\t\tclasses.push('old');\n\t\t\t\t} else if (i === 10) {\n\t\t\t\t\tclasses.push('new');\n\t\t\t\t}\n\t\t\t\tif ($.inArray(thisYear, steps) !== -1) {\n\t\t\t\t\tclasses.push('active');\n\t\t\t\t}\n\t\t\t\tif (thisYear < startStep || thisYear > endStep) {\n\t\t\t\t\tclasses.push('disabled');\n\t\t\t\t}\n        if (thisYear === this.viewDate.getFullYear()) {\n\t\t\t\t  classes.push('focused');\n        }\n\n\t\t\t\tif (callback !== $.noop) {\n\t\t\t\t\tbefore = callback(new Date(thisYear, 0, 1));\n\t\t\t\t\tif (before === undefined) {\n\t\t\t\t\t\tbefore = {};\n\t\t\t\t\t} else if (typeof(before) === 'boolean') {\n\t\t\t\t\t\tbefore = {enabled: before};\n\t\t\t\t\t} else if (typeof(before) === 'string') {\n\t\t\t\t\t\tbefore = {classes: before};\n\t\t\t\t\t}\n\t\t\t\t\tif (before.enabled === false) {\n\t\t\t\t\t\tclasses.push('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (before.classes) {\n\t\t\t\t\t\tclasses = classes.concat(before.classes.split(/\\s+/));\n\t\t\t\t\t}\n\t\t\t\t\tif (before.tooltip) {\n\t\t\t\t\t\ttooltip = before.tooltip;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\thtml += '<span class=\"' + classes.join(' ') + '\"' + (tooltip ? ' title=\"' + tooltip + '\"' : '') + '>' + thisYear + '</span>';\n\t\t\t\tthisYear += step;\n\t\t\t}\n\t\t\tview.find('td').html(html);\n\t\t},\n\n\t\tfill: function(){\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getUTCFullYear(),\n\t\t\t\tmonth = d.getUTCMonth(),\n\t\t\t\tstartYear = this.o.startDate !== -Infinity ? this.o.startDate.getUTCFullYear() : -Infinity,\n\t\t\t\tstartMonth = this.o.startDate !== -Infinity ? this.o.startDate.getUTCMonth() : -Infinity,\n\t\t\t\tendYear = this.o.endDate !== Infinity ? this.o.endDate.getUTCFullYear() : Infinity,\n\t\t\t\tendMonth = this.o.endDate !== Infinity ? this.o.endDate.getUTCMonth() : Infinity,\n\t\t\t\ttodaytxt = dates[this.o.language].today || dates['en'].today || '',\n\t\t\t\tcleartxt = dates[this.o.language].clear || dates['en'].clear || '',\n\t\t\t\ttitleFormat = dates[this.o.language].titleFormat || dates['en'].titleFormat,\n\t\t\t\ttooltip,\n\t\t\t\tbefore;\n\t\t\tif (isNaN(year) || isNaN(month))\n\t\t\t\treturn;\n\t\t\tthis.picker.find('.datepicker-days .datepicker-switch')\n\t\t\t\t\t\t.text(DPGlobal.formatDate(d, titleFormat, this.o.language));\n\t\t\tthis.picker.find('tfoot .today')\n\t\t\t\t\t\t.text(todaytxt)\n\t\t\t\t\t\t.toggle(this.o.todayBtn !== false);\n\t\t\tthis.picker.find('tfoot .clear')\n\t\t\t\t\t\t.text(cleartxt)\n\t\t\t\t\t\t.toggle(this.o.clearBtn !== false);\n\t\t\tthis.picker.find('thead .datepicker-title')\n\t\t\t\t\t\t.text(this.o.title)\n\t\t\t\t\t\t.toggle(this.o.title !== '');\n\t\t\tthis.updateNavArrows();\n\t\t\tthis.fillMonths();\n\t\t\tvar prevMonth = UTCDate(year, month-1, 28),\n\t\t\t\tday = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n\t\t\tprevMonth.setUTCDate(day);\n\t\t\tprevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.o.weekStart + 7)%7);\n\t\t\tvar nextMonth = new Date(prevMonth);\n\t\t\tif (prevMonth.getUTCFullYear() < 100){\n        nextMonth.setUTCFullYear(prevMonth.getUTCFullYear());\n      }\n\t\t\tnextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n\t\t\tnextMonth = nextMonth.valueOf();\n\t\t\tvar html = [];\n\t\t\tvar clsName;\n\t\t\twhile (prevMonth.valueOf() < nextMonth){\n\t\t\t\tif (prevMonth.getUTCDay() === this.o.weekStart){\n\t\t\t\t\thtml.push('<tr>');\n\t\t\t\t\tif (this.o.calendarWeeks){\n\t\t\t\t\t\t// ISO 8601: First week contains first thursday.\n\t\t\t\t\t\t// ISO also states week starts on Monday, but we can be more abstract here.\n\t\t\t\t\t\tvar\n\t\t\t\t\t\t\t// Start of current week: based on weekstart/current date\n\t\t\t\t\t\t\tws = new Date(+prevMonth + (this.o.weekStart - prevMonth.getUTCDay() - 7) % 7 * 864e5),\n\t\t\t\t\t\t\t// Thursday of this week\n\t\t\t\t\t\t\tth = new Date(Number(ws) + (7 + 4 - ws.getUTCDay()) % 7 * 864e5),\n\t\t\t\t\t\t\t// First Thursday of year, year from thursday\n\t\t\t\t\t\t\tyth = new Date(Number(yth = UTCDate(th.getUTCFullYear(), 0, 1)) + (7 + 4 - yth.getUTCDay())%7*864e5),\n\t\t\t\t\t\t\t// Calendar week: ms between thursdays, div ms per day, div 7 days\n\t\t\t\t\t\t\tcalWeek =  (th - yth) / 864e5 / 7 + 1;\n\t\t\t\t\t\thtml.push('<td class=\"cw\">'+ calWeek +'</td>');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tclsName = this.getClassNames(prevMonth);\n\t\t\t\tclsName.push('day');\n\n\t\t\t\tif (this.o.beforeShowDay !== $.noop){\n\t\t\t\t\tbefore = this.o.beforeShowDay(this._utc_to_local(prevMonth));\n\t\t\t\t\tif (before === undefined)\n\t\t\t\t\t\tbefore = {};\n\t\t\t\t\telse if (typeof(before) === 'boolean')\n\t\t\t\t\t\tbefore = {enabled: before};\n\t\t\t\t\telse if (typeof(before) === 'string')\n\t\t\t\t\t\tbefore = {classes: before};\n\t\t\t\t\tif (before.enabled === false)\n\t\t\t\t\t\tclsName.push('disabled');\n\t\t\t\t\tif (before.classes)\n\t\t\t\t\t\tclsName = clsName.concat(before.classes.split(/\\s+/));\n\t\t\t\t\tif (before.tooltip)\n\t\t\t\t\t\ttooltip = before.tooltip;\n\t\t\t\t}\n\n\t\t\t\t//Check if uniqueSort exists (supported by jquery >=1.12 and >=2.2)\n\t\t\t\t//Fallback to unique function for older jquery versions\n\t\t\t\tif ($.isFunction($.uniqueSort)) {\n\t\t\t\t\tclsName = $.uniqueSort(clsName);\n\t\t\t\t} else {\n\t\t\t\t\tclsName = $.unique(clsName);\n\t\t\t\t}\n\n\t\t\t\thtml.push('<td class=\"'+clsName.join(' ')+'\"' + (tooltip ? ' title=\"'+tooltip+'\"' : '') + '>'+prevMonth.getUTCDate() + '</td>');\n\t\t\t\ttooltip = null;\n\t\t\t\tif (prevMonth.getUTCDay() === this.o.weekEnd){\n\t\t\t\t\thtml.push('</tr>');\n\t\t\t\t}\n\t\t\t\tprevMonth.setUTCDate(prevMonth.getUTCDate()+1);\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n\n\t\t\tvar monthsTitle = dates[this.o.language].monthsTitle || dates['en'].monthsTitle || 'Months';\n\t\t\tvar months = this.picker.find('.datepicker-months')\n\t\t\t\t\t\t.find('.datepicker-switch')\n\t\t\t\t\t\t\t.text(this.o.maxViewMode < 2 ? monthsTitle : year)\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.find('span').removeClass('active');\n\n\t\t\t$.each(this.dates, function(i, d){\n\t\t\t\tif (d.getUTCFullYear() === year)\n\t\t\t\t\tmonths.eq(d.getUTCMonth()).addClass('active');\n\t\t\t});\n\n\t\t\tif (year < startYear || year > endYear){\n\t\t\t\tmonths.addClass('disabled');\n\t\t\t}\n\t\t\tif (year === startYear){\n\t\t\t\tmonths.slice(0, startMonth).addClass('disabled');\n\t\t\t}\n\t\t\tif (year === endYear){\n\t\t\t\tmonths.slice(endMonth+1).addClass('disabled');\n\t\t\t}\n\n\t\t\tif (this.o.beforeShowMonth !== $.noop){\n\t\t\t\tvar that = this;\n\t\t\t\t$.each(months, function(i, month){\n          var moDate = new Date(year, i, 1);\n          var before = that.o.beforeShowMonth(moDate);\n\t\t\t\t\tif (before === undefined)\n\t\t\t\t\t\tbefore = {};\n\t\t\t\t\telse if (typeof(before) === 'boolean')\n\t\t\t\t\t\tbefore = {enabled: before};\n\t\t\t\t\telse if (typeof(before) === 'string')\n\t\t\t\t\t\tbefore = {classes: before};\n\t\t\t\t\tif (before.enabled === false && !$(month).hasClass('disabled'))\n\t\t\t\t\t    $(month).addClass('disabled');\n\t\t\t\t\tif (before.classes)\n\t\t\t\t\t    $(month).addClass(before.classes);\n\t\t\t\t\tif (before.tooltip)\n\t\t\t\t\t    $(month).prop('title', before.tooltip);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Generating decade/years picker\n\t\t\tthis._fill_yearsView(\n\t\t\t\t'.datepicker-years',\n\t\t\t\t'year',\n\t\t\t\t10,\n\t\t\t\t1,\n\t\t\t\tyear,\n\t\t\t\tstartYear,\n\t\t\t\tendYear,\n\t\t\t\tthis.o.beforeShowYear\n\t\t\t);\n\n\t\t\t// Generating century/decades picker\n\t\t\tthis._fill_yearsView(\n\t\t\t\t'.datepicker-decades',\n\t\t\t\t'decade',\n\t\t\t\t100,\n\t\t\t\t10,\n\t\t\t\tyear,\n\t\t\t\tstartYear,\n\t\t\t\tendYear,\n\t\t\t\tthis.o.beforeShowDecade\n\t\t\t);\n\n\t\t\t// Generating millennium/centuries picker\n\t\t\tthis._fill_yearsView(\n\t\t\t\t'.datepicker-centuries',\n\t\t\t\t'century',\n\t\t\t\t1000,\n\t\t\t\t100,\n\t\t\t\tyear,\n\t\t\t\tstartYear,\n\t\t\t\tendYear,\n\t\t\t\tthis.o.beforeShowCentury\n\t\t\t);\n\t\t},\n\n\t\tupdateNavArrows: function(){\n\t\t\tif (!this._allow_update)\n\t\t\t\treturn;\n\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getUTCFullYear(),\n\t\t\t\tmonth = d.getUTCMonth();\n\t\t\tswitch (this.viewMode){\n\t\t\t\tcase 0:\n\t\t\t\t\tif (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() && month <= this.o.startDate.getUTCMonth()){\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'hidden'});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() && month >= this.o.endDate.getUTCMonth()){\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'hidden'});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\tcase 2:\n\t\t\t\tcase 3:\n\t\t\t\tcase 4:\n\t\t\t\t\tif (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() || this.o.maxViewMode < 2){\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'hidden'});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() || this.o.maxViewMode < 2){\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'hidden'});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\tclick: function(e){\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\n\t\t\tvar target, dir, day, year, month, monthChanged, yearChanged;\n\t\t\ttarget = $(e.target);\n\n\t\t\t// Clicked on the switch\n\t\t\tif (target.hasClass('datepicker-switch')){\n\t\t\t\tthis.showMode(1);\n\t\t\t}\n\n\t\t\t// Clicked on prev or next\n\t\t\tvar navArrow = target.closest('.prev, .next');\n\t\t\tif (navArrow.length > 0) {\n\t\t\t\tdir = DPGlobal.modes[this.viewMode].navStep * (navArrow.hasClass('prev') ? -1 : 1);\n\t\t\t\tif (this.viewMode === 0){\n\t\t\t\t\tthis.viewDate = this.moveMonth(this.viewDate, dir);\n\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\n\t\t\t\t} else {\n\t\t\t\t\tthis.viewDate = this.moveYear(this.viewDate, dir);\n\t\t\t\t\tif (this.viewMode === 1){\n\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.fill();\n\t\t\t}\n\n\t\t\t// Clicked on today button\n\t\t\tif (target.hasClass('today') && !target.hasClass('day')){\n\t\t\t\tthis.showMode(-2);\n\t\t\t\tthis._setDate(UTCToday(), this.o.todayBtn === 'linked' ? null : 'view');\n\t\t\t}\n\n\t\t\t// Clicked on clear button\n\t\t\tif (target.hasClass('clear')){\n\t\t\t\tthis.clearDates();\n\t\t\t}\n\n\t\t\tif (!target.hasClass('disabled')){\n\t\t\t\t// Clicked on a day\n\t\t\t\tif (target.hasClass('day')){\n\t\t\t\t\tday = parseInt(target.text(), 10) || 1;\n\t\t\t\t\tyear = this.viewDate.getUTCFullYear();\n\t\t\t\t\tmonth = this.viewDate.getUTCMonth();\n\n\t\t\t\t\t// From last month\n\t\t\t\t\tif (target.hasClass('old')){\n\t\t\t\t\t\tif (month === 0) {\n\t\t\t\t\t\t\tmonth = 11;\n\t\t\t\t\t\t\tyear = year - 1;\n\t\t\t\t\t\t\tmonthChanged = true;\n\t\t\t\t\t\t\tyearChanged = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmonth = month - 1;\n\t\t\t\t\t\t\tmonthChanged = true;\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n\n\t\t\t\t\t// From next month\n\t\t\t\t\tif (target.hasClass('new')) {\n\t\t\t\t\t\tif (month === 11){\n\t\t\t\t\t\t\tmonth = 0;\n\t\t\t\t\t\t\tyear = year + 1;\n\t\t\t\t\t\t\tmonthChanged = true;\n\t\t\t\t\t\t\tyearChanged = true;\n \t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmonth = month + 1;\n\t\t\t\t\t\t\tmonthChanged = true;\n \t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\n\t\t\t\t\tif (yearChanged) {\n\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\n\t\t\t\t\t}\n\t\t\t\t\tif (monthChanged) {\n\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Clicked on a month\n\t\t\t\tif (target.hasClass('month')) {\n\t\t\t\t\tthis.viewDate.setUTCDate(1);\n\t\t\t\t\tday = 1;\n\t\t\t\t\tmonth = target.parent().find('span').index(target);\n\t\t\t\t\tyear = this.viewDate.getUTCFullYear();\n\t\t\t\t\tthis.viewDate.setUTCMonth(month);\n\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\n\t\t\t\t\tif (this.o.minViewMode === 1){\n\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\n\t\t\t\t\t\tthis.showMode();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showMode(-1);\n\t\t\t\t\t}\n\t\t\t\t\tthis.fill();\n\t\t\t\t}\n\n\t\t\t\t// Clicked on a year\n\t\t\t\tif (target.hasClass('year')\n\t\t\t\t\t\t|| target.hasClass('decade')\n\t\t\t\t\t\t|| target.hasClass('century')) {\n\t\t\t\t\tthis.viewDate.setUTCDate(1);\n\n\t\t\t\t\tday = 1;\n\t\t\t\t\tmonth = 0;\n\t\t\t\t\tyear = parseInt(target.text(), 10)||0;\n\t\t\t\t\tthis.viewDate.setUTCFullYear(year);\n\n\t\t\t\t\tif (target.hasClass('year')){\n\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\n\t\t\t\t\t\tif (this.o.minViewMode === 2){\n\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (target.hasClass('decade')){\n\t\t\t\t\t\tthis._trigger('changeDecade', this.viewDate);\n\t\t\t\t\t\tif (this.o.minViewMode === 3){\n\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (target.hasClass('century')){\n\t\t\t\t\t\tthis._trigger('changeCentury', this.viewDate);\n\t\t\t\t\t\tif (this.o.minViewMode === 4){\n\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.showMode(-1);\n\t\t\t\t\tthis.fill();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.picker.is(':visible') && this._focused_from){\n\t\t\t\t$(this._focused_from).focus();\n\t\t\t}\n\t\t\tdelete this._focused_from;\n\t\t},\n\n\t\t_toggle_multidate: function(date){\n\t\t\tvar ix = this.dates.contains(date);\n\t\t\tif (!date){\n\t\t\t\tthis.dates.clear();\n\t\t\t}\n\n\t\t\tif (ix !== -1){\n\t\t\t\tif (this.o.multidate === true || this.o.multidate > 1 || this.o.toggleActive){\n\t\t\t\t\tthis.dates.remove(ix);\n\t\t\t\t}\n\t\t\t} else if (this.o.multidate === false) {\n\t\t\t\tthis.dates.clear();\n\t\t\t\tthis.dates.push(date);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.dates.push(date);\n\t\t\t}\n\n\t\t\tif (typeof this.o.multidate === 'number')\n\t\t\t\twhile (this.dates.length > this.o.multidate)\n\t\t\t\t\tthis.dates.remove(0);\n\t\t},\n\n\t\t_setDate: function(date, which){\n\t\t\tif (!which || which === 'date')\n\t\t\t\tthis._toggle_multidate(date && new Date(date));\n\t\t\tif (!which || which === 'view')\n\t\t\t\tthis.viewDate = date && new Date(date);\n\n\t\t\tthis.fill();\n\t\t\tthis.setValue();\n\t\t\tif (!which || which !== 'view') {\n\t\t\t\tthis._trigger('changeDate');\n\t\t\t}\n\t\t\tif (this.inputField){\n\t\t\t\tthis.inputField.change();\n\t\t\t}\n\t\t\tif (this.o.autoclose && (!which || which === 'date')){\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t},\n\n\t\tmoveDay: function(date, dir){\n\t\t\tvar newDate = new Date(date);\n\t\t\tnewDate.setUTCDate(date.getUTCDate() + dir);\n\n\t\t\treturn newDate;\n\t\t},\n\n\t\tmoveWeek: function(date, dir){\n\t\t\treturn this.moveDay(date, dir * 7);\n\t\t},\n\n\t\tmoveMonth: function(date, dir){\n\t\t\tif (!isValidDate(date))\n\t\t\t\treturn this.o.defaultViewDate;\n\t\t\tif (!dir)\n\t\t\t\treturn date;\n\t\t\tvar new_date = new Date(date.valueOf()),\n\t\t\t\tday = new_date.getUTCDate(),\n\t\t\t\tmonth = new_date.getUTCMonth(),\n\t\t\t\tmag = Math.abs(dir),\n\t\t\t\tnew_month, test;\n\t\t\tdir = dir > 0 ? 1 : -1;\n\t\t\tif (mag === 1){\n\t\t\t\ttest = dir === -1\n\t\t\t\t\t// If going back one month, make sure month is not current month\n\t\t\t\t\t// (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n\t\t\t\t\t? function(){\n\t\t\t\t\t\treturn new_date.getUTCMonth() === month;\n\t\t\t\t\t}\n\t\t\t\t\t// If going forward one month, make sure month is as expected\n\t\t\t\t\t// (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n\t\t\t\t\t: function(){\n\t\t\t\t\t\treturn new_date.getUTCMonth() !== new_month;\n\t\t\t\t\t};\n\t\t\t\tnew_month = month + dir;\n\t\t\t\tnew_date.setUTCMonth(new_month);\n\t\t\t\t// Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n\t\t\t\tif (new_month < 0 || new_month > 11)\n\t\t\t\t\tnew_month = (new_month + 12) % 12;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// For magnitudes >1, move one month at a time...\n\t\t\t\tfor (var i=0; i < mag; i++)\n\t\t\t\t\t// ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n\t\t\t\t\tnew_date = this.moveMonth(new_date, dir);\n\t\t\t\t// ...then reset the day, keeping it in the new month\n\t\t\t\tnew_month = new_date.getUTCMonth();\n\t\t\t\tnew_date.setUTCDate(day);\n\t\t\t\ttest = function(){\n\t\t\t\t\treturn new_month !== new_date.getUTCMonth();\n\t\t\t\t};\n\t\t\t}\n\t\t\t// Common date-resetting loop -- if date is beyond end of month, make it\n\t\t\t// end of month\n\t\t\twhile (test()){\n\t\t\t\tnew_date.setUTCDate(--day);\n\t\t\t\tnew_date.setUTCMonth(new_month);\n\t\t\t}\n\t\t\treturn new_date;\n\t\t},\n\n\t\tmoveYear: function(date, dir){\n\t\t\treturn this.moveMonth(date, dir*12);\n\t\t},\n\n\t\tmoveAvailableDate: function(date, dir, fn){\n\t\t\tdo {\n\t\t\t\tdate = this[fn](date, dir);\n\n\t\t\t\tif (!this.dateWithinRange(date))\n\t\t\t\t\treturn false;\n\n\t\t\t\tfn = 'moveDay';\n\t\t\t}\n\t\t\twhile (this.dateIsDisabled(date));\n\n\t\t\treturn date;\n\t\t},\n\n\t\tweekOfDateIsDisabled: function(date){\n\t\t\treturn $.inArray(date.getUTCDay(), this.o.daysOfWeekDisabled) !== -1;\n\t\t},\n\n\t\tdateIsDisabled: function(date){\n\t\t\treturn (\n\t\t\t\tthis.weekOfDateIsDisabled(date) ||\n\t\t\t\t$.grep(this.o.datesDisabled, function(d){\n\t\t\t\t\treturn isUTCEquals(date, d);\n\t\t\t\t}).length > 0\n\t\t\t);\n\t\t},\n\n\t\tdateWithinRange: function(date){\n\t\t\treturn date >= this.o.startDate && date <= this.o.endDate;\n\t\t},\n\n\t\tkeydown: function(e){\n\t\t\tif (!this.picker.is(':visible')){\n\t\t\t\tif (e.keyCode === 40 || e.keyCode === 27) { // allow down to re-show picker\n\t\t\t\t\tthis.show();\n\t\t\t\t\te.stopPropagation();\n        }\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar dateChanged = false,\n\t\t\t\tdir, newViewDate,\n\t\t\t\tfocusDate = this.focusDate || this.viewDate;\n\t\t\tswitch (e.keyCode){\n\t\t\t\tcase 27: // escape\n\t\t\t\t\tif (this.focusDate){\n\t\t\t\t\t\tthis.focusDate = null;\n\t\t\t\t\t\tthis.viewDate = this.dates.get(-1) || this.viewDate;\n\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.hide();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 37: // left\n\t\t\t\tcase 38: // up\n\t\t\t\tcase 39: // right\n\t\t\t\tcase 40: // down\n\t\t\t\t\tif (!this.o.keyboardNavigation || this.o.daysOfWeekDisabled.length === 7)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdir = e.keyCode === 37 || e.keyCode === 38 ? -1 : 1;\n          if (this.viewMode === 0) {\n  \t\t\t\t\tif (e.ctrlKey){\n  \t\t\t\t\t\tnewViewDate = this.moveAvailableDate(focusDate, dir, 'moveYear');\n\n  \t\t\t\t\t\tif (newViewDate)\n  \t\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\n  \t\t\t\t\t}\n  \t\t\t\t\telse if (e.shiftKey){\n  \t\t\t\t\t\tnewViewDate = this.moveAvailableDate(focusDate, dir, 'moveMonth');\n\n  \t\t\t\t\t\tif (newViewDate)\n  \t\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\n  \t\t\t\t\t}\n  \t\t\t\t\telse if (e.keyCode === 37 || e.keyCode === 39){\n  \t\t\t\t\t\tnewViewDate = this.moveAvailableDate(focusDate, dir, 'moveDay');\n  \t\t\t\t\t}\n  \t\t\t\t\telse if (!this.weekOfDateIsDisabled(focusDate)){\n  \t\t\t\t\t\tnewViewDate = this.moveAvailableDate(focusDate, dir, 'moveWeek');\n  \t\t\t\t\t}\n          } else if (this.viewMode === 1) {\n            if (e.keyCode === 38 || e.keyCode === 40) {\n              dir = dir * 4;\n            }\n            newViewDate = this.moveAvailableDate(focusDate, dir, 'moveMonth');\n          } else if (this.viewMode === 2) {\n            if (e.keyCode === 38 || e.keyCode === 40) {\n              dir = dir * 4;\n            }\n            newViewDate = this.moveAvailableDate(focusDate, dir, 'moveYear');\n          }\n\t\t\t\t\tif (newViewDate){\n\t\t\t\t\t\tthis.focusDate = this.viewDate = newViewDate;\n\t\t\t\t\t\tthis.setValue();\n\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 13: // enter\n\t\t\t\t\tif (!this.o.forceParse)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tfocusDate = this.focusDate || this.dates.get(-1) || this.viewDate;\n\t\t\t\t\tif (this.o.keyboardNavigation) {\n\t\t\t\t\t\tthis._toggle_multidate(focusDate);\n\t\t\t\t\t\tdateChanged = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.focusDate = null;\n\t\t\t\t\tthis.viewDate = this.dates.get(-1) || this.viewDate;\n\t\t\t\t\tthis.setValue();\n\t\t\t\t\tthis.fill();\n\t\t\t\t\tif (this.picker.is(':visible')){\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tif (this.o.autoclose)\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9: // tab\n\t\t\t\t\tthis.focusDate = null;\n\t\t\t\t\tthis.viewDate = this.dates.get(-1) || this.viewDate;\n\t\t\t\t\tthis.fill();\n\t\t\t\t\tthis.hide();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (dateChanged){\n\t\t\t\tif (this.dates.length)\n\t\t\t\t\tthis._trigger('changeDate');\n\t\t\t\telse\n\t\t\t\t\tthis._trigger('clearDate');\n\t\t\t\tif (this.inputField){\n\t\t\t\t\tthis.inputField.change();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowMode: function(dir){\n\t\t\tif (dir){\n\t\t\t\tthis.viewMode = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, this.viewMode + dir));\n\t\t\t}\n\t\t\tthis.picker\n\t\t\t\t.children('div')\n\t\t\t\t.hide()\n\t\t\t\t.filter('.datepicker-' + DPGlobal.modes[this.viewMode].clsName)\n\t\t\t\t\t.show();\n\t\t\tthis.updateNavArrows();\n\t\t}\n\t};\n\n\tvar DateRangePicker = function(element, options){\n\t\t$(element).data('datepicker', this);\n\t\tthis.element = $(element);\n\t\tthis.inputs = $.map(options.inputs, function(i){\n\t\t\treturn i.jquery ? i[0] : i;\n\t\t});\n\t\tdelete options.inputs;\n\n\t\tdatepickerPlugin.call($(this.inputs), options)\n\t\t\t.on('changeDate', $.proxy(this.dateUpdated, this));\n\n\t\tthis.pickers = $.map(this.inputs, function(i){\n\t\t\treturn $(i).data('datepicker');\n\t\t});\n\t\tthis.updateDates();\n\t};\n\tDateRangePicker.prototype = {\n\t\tupdateDates: function(){\n\t\t\tthis.dates = $.map(this.pickers, function(i){\n\t\t\t\treturn i.getUTCDate();\n\t\t\t});\n\t\t\tthis.updateRanges();\n\t\t},\n\t\tupdateRanges: function(){\n\t\t\tvar range = $.map(this.dates, function(d){\n\t\t\t\treturn d.valueOf();\n\t\t\t});\n\t\t\t$.each(this.pickers, function(i, p){\n\t\t\t\tp.setRange(range);\n\t\t\t});\n\t\t},\n\t\tdateUpdated: function(e){\n\t\t\t// `this.updating` is a workaround for preventing infinite recursion\n\t\t\t// between `changeDate` triggering and `setUTCDate` calling.  Until\n\t\t\t// there is a better mechanism.\n\t\t\tif (this.updating)\n\t\t\t\treturn;\n\t\t\tthis.updating = true;\n\n\t\t\tvar dp = $(e.target).data('datepicker');\n\n\t\t\tif (typeof(dp) === \"undefined\") {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar new_date = dp.getUTCDate(),\n\t\t\t\ti = $.inArray(e.target, this.inputs),\n\t\t\t\tj = i - 1,\n\t\t\t\tk = i + 1,\n\t\t\t\tl = this.inputs.length;\n\t\t\tif (i === -1)\n\t\t\t\treturn;\n\n\t\t\t$.each(this.pickers, function(i, p){\n\t\t\t\tif (!p.getUTCDate())\n\t\t\t\t\tp.setUTCDate(new_date);\n\t\t\t});\n\n\t\t\tif (new_date < this.dates[j]){\n\t\t\t\t// Date being moved earlier/left\n\t\t\t\twhile (j >= 0 && new_date < this.dates[j]){\n\t\t\t\t\tthis.pickers[j--].setUTCDate(new_date);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (new_date > this.dates[k]){\n\t\t\t\t// Date being moved later/right\n\t\t\t\twhile (k < l && new_date > this.dates[k]){\n\t\t\t\t\tthis.pickers[k++].setUTCDate(new_date);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.updateDates();\n\n\t\t\tdelete this.updating;\n\t\t},\n\t\tremove: function(){\n\t\t\t$.map(this.pickers, function(p){ p.remove(); });\n\t\t\tdelete this.element.data().datepicker;\n\t\t}\n\t};\n\n\tfunction opts_from_el(el, prefix){\n\t\t// Derive options from element data-attrs\n\t\tvar data = $(el).data(),\n\t\t\tout = {}, inkey,\n\t\t\treplace = new RegExp('^' + prefix.toLowerCase() + '([A-Z])');\n\t\tprefix = new RegExp('^' + prefix.toLowerCase());\n\t\tfunction re_lower(_,a){\n\t\t\treturn a.toLowerCase();\n\t\t}\n\t\tfor (var key in data)\n\t\t\tif (prefix.test(key)){\n\t\t\t\tinkey = key.replace(replace, re_lower);\n\t\t\t\tout[inkey] = data[key];\n\t\t\t}\n\t\treturn out;\n\t}\n\n\tfunction opts_from_locale(lang){\n\t\t// Derive options from locale plugins\n\t\tvar out = {};\n\t\t// Check if \"de-DE\" style date is available, if not language should\n\t\t// fallback to 2 letter code eg \"de\"\n\t\tif (!dates[lang]){\n\t\t\tlang = lang.split('-')[0];\n\t\t\tif (!dates[lang])\n\t\t\t\treturn;\n\t\t}\n\t\tvar d = dates[lang];\n\t\t$.each(locale_opts, function(i,k){\n\t\t\tif (k in d)\n\t\t\t\tout[k] = d[k];\n\t\t});\n\t\treturn out;\n\t}\n\n\tvar old = $.fn.datepicker;\n\tvar datepickerPlugin = function(option){\n\t\tvar args = Array.apply(null, arguments);\n\t\targs.shift();\n\t\tvar internal_return;\n\t\tthis.each(function(){\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('datepicker'),\n\t\t\t\toptions = typeof option === 'object' && option;\n\t\t\tif (!data){\n\t\t\t\tvar elopts = opts_from_el(this, 'date'),\n\t\t\t\t\t// Preliminary otions\n\t\t\t\t\txopts = $.extend({}, defaults, elopts, options),\n\t\t\t\t\tlocopts = opts_from_locale(xopts.language),\n\t\t\t\t\t// Options priority: js args, data-attrs, locales, defaults\n\t\t\t\t\topts = $.extend({}, defaults, locopts, elopts, options);\n\t\t\t\tif ($this.hasClass('input-daterange') || opts.inputs){\n\t\t\t\t\t$.extend(opts, {\n\t\t\t\t\t\tinputs: opts.inputs || $this.find('input').toArray()\n\t\t\t\t\t});\n\t\t\t\t\tdata = new DateRangePicker(this, opts);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdata = new Datepicker(this, opts);\n\t\t\t\t}\n\t\t\t\t$this.data('datepicker', data);\n\t\t\t}\n\t\t\tif (typeof option === 'string' && typeof data[option] === 'function'){\n\t\t\t\tinternal_return = data[option].apply(data, args);\n\t\t\t}\n\t\t});\n\n\t\tif (\n\t\t\tinternal_return === undefined ||\n\t\t\tinternal_return instanceof Datepicker ||\n\t\t\tinternal_return instanceof DateRangePicker\n\t\t)\n\t\t\treturn this;\n\n\t\tif (this.length > 1)\n\t\t\tthrow new Error('Using only allowed for the collection of a single element (' + option + ' function)');\n\t\telse\n\t\t\treturn internal_return;\n\t};\n\t$.fn.datepicker = datepickerPlugin;\n\n\tvar defaults = $.fn.datepicker.defaults = {\n\t\tassumeNearbyYear: false,\n\t\tautoclose: false,\n\t\tbeforeShowDay: $.noop,\n\t\tbeforeShowMonth: $.noop,\n\t\tbeforeShowYear: $.noop,\n\t\tbeforeShowDecade: $.noop,\n\t\tbeforeShowCentury: $.noop,\n\t\tcalendarWeeks: false,\n\t\tclearBtn: false,\n\t\ttoggleActive: false,\n\t\tdaysOfWeekDisabled: [],\n\t\tdaysOfWeekHighlighted: [],\n\t\tdatesDisabled: [],\n\t\tendDate: Infinity,\n\t\tforceParse: true,\n\t\tformat: 'mm/dd/yyyy',\n\t\tkeyboardNavigation: true,\n\t\tlanguage: 'en',\n\t\tminViewMode: 0,\n\t\tmaxViewMode: 4,\n\t\tmultidate: false,\n\t\tmultidateSeparator: ',',\n\t\torientation: \"auto\",\n\t\trtl: false,\n\t\tstartDate: -Infinity,\n\t\tstartView: 0,\n\t\ttodayBtn: false,\n\t\ttodayHighlight: false,\n\t\tweekStart: 0,\n\t\tdisableTouchKeyboard: false,\n\t\tenableOnReadonly: true,\n\t\tshowOnFocus: true,\n\t\tzIndexOffset: 10,\n\t\tcontainer: 'body',\n\t\timmediateUpdates: false,\n\t\ttitle: '',\n\t\ttemplates: {\n\t\t\tleftArrow: '&laquo;',\n\t\t\trightArrow: '&raquo;'\n\t\t}\n\t};\n\tvar locale_opts = $.fn.datepicker.locale_opts = [\n\t\t'format',\n\t\t'rtl',\n\t\t'weekStart'\n\t];\n\t$.fn.datepicker.Constructor = Datepicker;\n\tvar dates = $.fn.datepicker.dates = {\n\t\ten: {\n\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\t\t\tdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n\t\t\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\ttoday: \"Today\",\n\t\t\tclear: \"Clear\",\n\t\t\ttitleFormat: \"MM yyyy\"\n\t\t}\n\t};\n\n\tvar DPGlobal = {\n\t\tmodes: [\n\t\t\t{\n\t\t\t\tclsName: 'days',\n\t\t\t\tnavFnc: 'Month',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'months',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'years',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 10\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'decades',\n\t\t\t\tnavFnc: 'FullDecade',\n\t\t\t\tnavStep: 100\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'centuries',\n\t\t\t\tnavFnc: 'FullCentury',\n\t\t\t\tnavStep: 1000\n\t\t}],\n\t\tisLeapYear: function(year){\n\t\t\treturn (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));\n\t\t},\n\t\tgetDaysInMonth: function(year, month){\n\t\t\treturn [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n\t\t},\n\t\tvalidParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n\t\tnonpunctuation: /[^ -\\/:-@\\u5e74\\u6708\\u65e5\\[-`{-~\\t\\n\\r]+/g,\n\t\tparseFormat: function(format){\n\t\t\tif (typeof format.toValue === 'function' && typeof format.toDisplay === 'function')\n                return format;\n            // IE treats \\0 as a string end in inputs (truncating the value),\n\t\t\t// so it's a bad format delimiter, anyway\n\t\t\tvar separators = format.replace(this.validParts, '\\0').split('\\0'),\n\t\t\t\tparts = format.match(this.validParts);\n\t\t\tif (!separators || !separators.length || !parts || parts.length === 0){\n\t\t\t\tthrow new Error(\"Invalid date format.\");\n\t\t\t}\n\t\t\treturn {separators: separators, parts: parts};\n\t\t},\n\t\tparseDate: function(date, format, language, assumeNearby){\n\t\t\tif (!date)\n\t\t\t\treturn undefined;\n\t\t\tif (date instanceof Date)\n\t\t\t\treturn date;\n\t\t\tif (typeof format === 'string')\n\t\t\t\tformat = DPGlobal.parseFormat(format);\n\t\t\tif (format.toValue)\n                return format.toValue(date, format, language);\n            var part_re = /([\\-+]\\d+)([dmwy])/,\n\t\t\t\tparts = date.match(/([\\-+]\\d+)([dmwy])/g),\n\t\t\t\tfn_map = {\n\t\t\t\t\td: 'moveDay',\n\t\t\t\t\tm: 'moveMonth',\n\t\t\t\t\tw: 'moveWeek',\n\t\t\t\t\ty: 'moveYear'\n\t\t\t\t},\n\t\t\t\tdateAliases = {\n\t\t\t\t\tyesterday: '-1d',\n\t\t\t\t\ttoday: '+0d',\n\t\t\t\t\ttomorrow: '+1d'\n\t\t\t\t},\n\t\t\t\tpart, dir, i, fn;\n\t\t\tif (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)){\n\t\t\t\tdate = new Date();\n\t\t\t\tfor (i=0; i < parts.length; i++){\n\t\t\t\t\tpart = part_re.exec(parts[i]);\n\t\t\t\t\tdir = parseInt(part[1]);\n\t\t\t\t\tfn = fn_map[part[2]];\n\t\t\t\t\tdate = Datepicker.prototype[fn](date, dir);\n\t\t\t\t}\n\t\t\t\treturn UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n\t\t\t}\n\n\t\t\tif (typeof dateAliases[date] !== 'undefined') {\n\t\t\t\tdate = dateAliases[date];\n\t\t\t\tparts = date.match(/([\\-+]\\d+)([dmwy])/g);\n\n\t\t\t\tif (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)){\n\t\t\t\t\tdate = new Date();\n\t\t\t\t  \tfor (i=0; i < parts.length; i++){\n\t\t\t\t\t\tpart = part_re.exec(parts[i]);\n\t\t\t\t\t\tdir = parseInt(part[1]);\n\t\t\t\t\t\tfn = fn_map[part[2]];\n\t\t\t\t\t\tdate = Datepicker.prototype[fn](date, dir);\n\t\t\t\t  \t}\n\n\t\t\t  \t\treturn UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tparts = date && date.match(this.nonpunctuation) || [];\n\t\t\tdate = new Date();\n\n\t\t\tfunction applyNearbyYear(year, threshold){\n\t\t\t\tif (threshold === true)\n\t\t\t\t\tthreshold = 10;\n\n\t\t\t\t// if year is 2 digits or less, than the user most likely is trying to get a recent century\n\t\t\t\tif (year < 100){\n\t\t\t\t\tyear += 2000;\n\t\t\t\t\t// if the new year is more than threshold years in advance, use last century\n\t\t\t\t\tif (year > ((new Date()).getFullYear()+threshold)){\n\t\t\t\t\t\tyear -= 100;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn year;\n\t\t\t}\n\n\t\t\tvar parsed = {},\n\t\t\t\tsetters_order = ['yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'd', 'dd'],\n\t\t\t\tsetters_map = {\n\t\t\t\t\tyyyy: function(d,v){\n\t\t\t\t\t\treturn d.setUTCFullYear(assumeNearby ? applyNearbyYear(v, assumeNearby) : v);\n\t\t\t\t\t},\n\t\t\t\t\tyy: function(d,v){\n\t\t\t\t\t\treturn d.setUTCFullYear(assumeNearby ? applyNearbyYear(v, assumeNearby) : v);\n\t\t\t\t\t},\n\t\t\t\t\tm: function(d,v){\n\t\t\t\t\t\tif (isNaN(d))\n\t\t\t\t\t\t\treturn d;\n\t\t\t\t\t\tv -= 1;\n\t\t\t\t\t\twhile (v < 0) v += 12;\n\t\t\t\t\t\tv %= 12;\n\t\t\t\t\t\td.setUTCMonth(v);\n\t\t\t\t\t\twhile (d.getUTCMonth() !== v)\n\t\t\t\t\t\t\td.setUTCDate(d.getUTCDate()-1);\n\t\t\t\t\t\treturn d;\n\t\t\t\t\t},\n\t\t\t\t\td: function(d,v){\n\t\t\t\t\t\treturn d.setUTCDate(v);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tval, filtered;\n\t\t\tsetters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n\t\t\tsetters_map['dd'] = setters_map['d'];\n\t\t\tdate = UTCToday();\n\t\t\tvar fparts = format.parts.slice();\n\t\t\t// Remove noop parts\n\t\t\tif (parts.length !== fparts.length){\n\t\t\t\tfparts = $(fparts).filter(function(i,p){\n\t\t\t\t\treturn $.inArray(p, setters_order) !== -1;\n\t\t\t\t}).toArray();\n\t\t\t}\n\t\t\t// Process remainder\n\t\t\tfunction match_part(){\n\t\t\t\tvar m = this.slice(0, parts[i].length),\n\t\t\t\t\tp = parts[i].slice(0, m.length);\n\t\t\t\treturn m.toLowerCase() === p.toLowerCase();\n\t\t\t}\n\t\t\tif (parts.length === fparts.length){\n\t\t\t\tvar cnt;\n\t\t\t\tfor (i=0, cnt = fparts.length; i < cnt; i++){\n\t\t\t\t\tval = parseInt(parts[i], 10);\n\t\t\t\t\tpart = fparts[i];\n\t\t\t\t\tif (isNaN(val)){\n\t\t\t\t\t\tswitch (part){\n\t\t\t\t\t\t\tcase 'MM':\n\t\t\t\t\t\t\t\tfiltered = $(dates[language].months).filter(match_part);\n\t\t\t\t\t\t\t\tval = $.inArray(filtered[0], dates[language].months) + 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'M':\n\t\t\t\t\t\t\t\tfiltered = $(dates[language].monthsShort).filter(match_part);\n\t\t\t\t\t\t\t\tval = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tparsed[part] = val;\n\t\t\t\t}\n\t\t\t\tvar _date, s;\n\t\t\t\tfor (i=0; i < setters_order.length; i++){\n\t\t\t\t\ts = setters_order[i];\n\t\t\t\t\tif (s in parsed && !isNaN(parsed[s])){\n\t\t\t\t\t\t_date = new Date(date);\n\t\t\t\t\t\tsetters_map[s](_date, parsed[s]);\n\t\t\t\t\t\tif (!isNaN(_date))\n\t\t\t\t\t\t\tdate = _date;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn date;\n\t\t},\n\t\tformatDate: function(date, format, language){\n\t\t\tif (!date)\n\t\t\t\treturn '';\n\t\t\tif (typeof format === 'string')\n\t\t\t\tformat = DPGlobal.parseFormat(format);\n\t\t\tif (format.toDisplay)\n                return format.toDisplay(date, format, language);\n            var val = {\n\t\t\t\td: date.getUTCDate(),\n\t\t\t\tD: dates[language].daysShort[date.getUTCDay()],\n\t\t\t\tDD: dates[language].days[date.getUTCDay()],\n\t\t\t\tm: date.getUTCMonth() + 1,\n\t\t\t\tM: dates[language].monthsShort[date.getUTCMonth()],\n\t\t\t\tMM: dates[language].months[date.getUTCMonth()],\n\t\t\t\tyy: date.getUTCFullYear().toString().substring(2),\n\t\t\t\tyyyy: date.getUTCFullYear()\n\t\t\t};\n\t\t\tval.dd = (val.d < 10 ? '0' : '') + val.d;\n\t\t\tval.mm = (val.m < 10 ? '0' : '') + val.m;\n\t\t\tdate = [];\n\t\t\tvar seps = $.extend([], format.separators);\n\t\t\tfor (var i=0, cnt = format.parts.length; i <= cnt; i++){\n\t\t\t\tif (seps.length)\n\t\t\t\t\tdate.push(seps.shift());\n\t\t\t\tdate.push(val[format.parts[i]]);\n\t\t\t}\n\t\t\treturn date.join('');\n\t\t},\n\t\theadTemplate: '<thead>'+\n\t\t\t              '<tr>'+\n\t\t\t                '<th colspan=\"7\" class=\"datepicker-title\"></th>'+\n\t\t\t              '</tr>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th class=\"prev\">&laquo;</th>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"datepicker-switch\"></th>'+\n\t\t\t\t\t\t\t\t'<th class=\"next\">&raquo;</th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t'</thead>',\n\t\tcontTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n\t\tfootTemplate: '<tfoot>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"7\" class=\"today\"></th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"7\" class=\"clear\"></th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t'</tfoot>'\n\t};\n\tDPGlobal.template = '<div class=\"datepicker\">'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-days\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\t'<tbody></tbody>'+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-months\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-years\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-decades\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-centuries\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</div>';\n\n\t$.fn.datepicker.DPGlobal = DPGlobal;\n\n\n\t/* DATEPICKER NO CONFLICT\n\t* =================== */\n\n\t$.fn.datepicker.noConflict = function(){\n\t\t$.fn.datepicker = old;\n\t\treturn this;\n\t};\n\n\t/* DATEPICKER VERSION\n\t * =================== */\n\t$.fn.datepicker.version = '1.6.4';\n\n\t/* DATEPICKER DATA-API\n\t* ================== */\n\n\t$(document).on(\n\t\t'focus.datepicker.data-api click.datepicker.data-api',\n\t\t'[data-provide=\"datepicker\"]',\n\t\tfunction(e){\n\t\t\tvar $this = $(this);\n\t\t\tif ($this.data('datepicker'))\n\t\t\t\treturn;\n\t\t\te.preventDefault();\n\t\t\t// component click requires us to explicitly show it\n\t\t\tdatepickerPlugin.call($this, 'show');\n\t\t}\n\t);\n\t$(function(){\n\t\tdatepickerPlugin.call($('[data-provide=\"datepicker-inline\"]'));\n\t});\n\n}));\n"]},"metadata":{},"sourceType":"module"}